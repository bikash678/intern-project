;/*FB_PKG_DELIM*/

__d("MWChatMediaRootQuery.graphql",["MWChatMediaRootQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"after"},c={defaultValue:null,kind:"LocalArgument",name:"before"},d={defaultValue:null,kind:"LocalArgument",name:"first"},e={defaultValue:null,kind:"LocalArgument",name:"last"},f={defaultValue:null,kind:"LocalArgument",name:"messageID"},g={defaultValue:null,kind:"LocalArgument",name:"scale"},h={defaultValue:null,kind:"LocalArgument",name:"threadID"},i=[{kind:"Variable",name:"id",variableName:"threadID"}],j={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"folder",storageKey:null},l=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"before",variableName:"before"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Variable",name:"last",variableName:"last"},{kind:"Variable",name:"message_id",variableName:"messageID"},{kind:"Literal",name:"message_shared_media_type",value:"PHOTO_VIDEO_AND_GIF"}],m={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},t=[q,r,s,{alias:null,args:null,kind:"ScalarField",name:"downloadable_uri",storageKey:null}];q={alias:"image_thumb",args:[{kind:"Literal",name:"height",value:250},{kind:"Literal",name:"width",value:250}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[q,r,s],storageKey:"image(height:250,width:250)"};r={kind:"InlineFragment",selections:[p,{alias:null,args:null,kind:"ScalarField",name:"blurred_image_uri",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:2048},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:2048}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:t,storageKey:null},q],type:"MessageImage",abstractKey:null};s={kind:"InlineFragment",selections:[p,{alias:"sdUrl",args:[{kind:"Literal",name:"quality",value:"SD"}],kind:"ScalarField",name:"playable_url",storageKey:'playable_url(quality:"SD")'},{alias:"hdUrl",args:[{kind:"Literal",name:"quality",value:"HD"}],kind:"ScalarField",name:"playable_url",storageKey:'playable_url(quality:"HD")'},q,{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null}],type:"MessageVideo",abstractKey:null};p={kind:"InlineFragment",selections:[p,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:t,storageKey:null},q,{alias:null,args:null,kind:"ScalarField",name:"animated_image_caption",storageKey:null}],type:"MessageAnimatedImage",abstractKey:null};t={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null};q={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null}],storageKey:null};var u={kind:"InlineFragment",selections:[j],type:"Node",abstractKey:"__isNode"};return{fragment:{argumentDefinitions:[a,c,d,e,f,g,h],kind:"Fragment",metadata:null,name:"MWChatMediaRootQuery",selections:[{alias:null,args:i,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[j,k,{alias:null,args:l,concreteType:"MessagesWithAttachmentsOfThreadConnection",kind:"LinkedField",name:"messages_with_attachments",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagesWithAttachmentsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[m,j,n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:[o,r,s,p],storageKey:null}],type:"UserMessage",abstractKey:null}],storageKey:null},t],storageKey:null},q],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[h,f,a,d,c,e,g],kind:"Operation",name:"MWChatMediaRootQuery",selections:[{alias:null,args:i,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[j,k,{alias:null,args:l,concreteType:"MessagesWithAttachmentsOfThreadConnection",kind:"LinkedField",name:"messages_with_attachments",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagesWithAttachmentsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[o,{kind:"InlineFragment",selections:[m,j,n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:[o,r,s,p,u],storageKey:null}],type:"UserMessage",abstractKey:null},u],storageKey:null},t],storageKey:null},q],storageKey:null}],storageKey:null}]},params:{id:b("MWChatMediaRootQuery_facebookRelayOperation"),metadata:{},name:"MWChatMediaRootQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometPhotoViewerImageSuspense",["Promise","PromiseAnnotate","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=document.body,j=typeof jest==="undefined"&&document!==void 0&&typeof document.createElement==="function";function k(a){return new(b("Promise"))(function(b){if(!j||i==null)return b();var c=document.createElement("img");c.onload=c.onerror=b;c.src=a})}var l=new Map(),m=2e3,n={get:function(a){var b=l.get(a);if(b!=null){l["delete"](a);l.set(a,b);return b}},set:function(a,b){l["delete"](a);l.set(a,b);if(l.size>m){a=l.keys().next();a.done||l["delete"](a.value)}}};function o(a){if(a==null)return;var b=n.get(a);if(b!=null)if(b.pending===!0)throw b.promise;else return;else{b=k(a);d("PromiseAnnotate").setDisplayName(b,"SuspenseImage");var c={pending:!0,promise:b};b.then(function(){c.pending===!0&&(c.pending=!1)});n.set(a,c);throw b}}a=h.forwardRef(function(a,b){o(a.src);return h.jsx("img",babelHelpers["extends"]({},a,{ref:b}))});g["default"]=a}),98);
__d("CometPhotoViewerInnerWrapper.react",["CometRouteRenderType","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={backgroundContainer:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",minHeight:"x1xoerdy",$$css:!0},backgroundContainerDialog:{height:"x1dr59a3",$$css:!0},backgroundContainerDialogWithFooter:{height:"x4uq5q4",$$css:!0},backgroundContainerTabs:{height:"xtp0wl1",$$css:!0},backgroundContainerTabsWithFooter:{height:"xossbfl",$$css:!0},image:{height:"xt7dq6l",maxWidth:"x193iq5w",width:"x14atkfc",$$css:!0},maxImageHeightDialog:{maxHeight:"x1bwycvy",$$css:!0},maxImageHeightDialogWithFooter:{maxHeight:"x4ju7c5",$$css:!0},maxImageHeightTabs:{maxHeight:"x85a59c",$$css:!0},maxImageHeightTabsWithFooter:{maxHeight:"x1wlxzsl",$$css:!0},passthroughImage:{backgroundPosition:"x1lvsgvq",backgroundRepeat:"xiy17q3",backgroundSize:"x1tbiz1a",height:"x5yr21d",width:"xh8yej3",$$css:!0},photoWrapper:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",maxHeight:"xmz0i5r",position:"x1n2onr6",$$css:!0},photoWrapperPlaceholder:{height:"x5yr21d",width:"xh8yej3",$$css:!0},placeholderContainer:{width:"xh8yej3",$$css:!0}};function j(a,b){a===void 0&&(a=!1);b===void 0&&(b=!1);var c=d("CometRouteRenderType").useIsPushView();return"x6s0dn4 x78zum5 xl56j7k x1xoerdy"+((b?" xh8yej3":""+(a&&!c?"":""+(a&&c?"":""+(!a&&!c?"":""+(!a&&c?"":"")))))+(a&&!c?" xossbfl":""+(a&&c?" x4uq5q4":""+(!a&&!c?" xtp0wl1":""+(!a&&c?" x1dr59a3":"")))))}function k(a,b){var c=d("CometRouteRenderType").useIsPushView();return""+((a&&!c?" x1wlxzsl":""+(a&&c?" x4ju7c5":""+(!a&&!c?" x85a59c":""+(!a&&c?" x1bwycvy":""))))+((b?""+(b?" x5yr21d xh8yej3":""+(a&&!c?"":""+(a&&c?"":""+(!a&&!c?"":""+(!a&&c?"":""))))):" xt7dq6l x14atkfc x193iq5w")+(b?" x1lvsgvq xiy17q3 x1tbiz1a":"")))}function l(a,b){var c=d("CometRouteRenderType").useIsPushView();return[!a&&c&&i.maxImageHeightDialog,!a&&!c&&i.maxImageHeightTabs,a&&c&&i.maxImageHeightDialogWithFooter,a&&!c&&i.maxImageHeightTabsWithFooter,b&&i.passthroughImage,!b&&i.image]}function a(a,b){var c=a.height,d=a.imageUri,e=a.showPlaceholderImage;e=e===void 0?!0:e;var f=a.width;a=a.withFooter;a=a===void 0?!1:a;a=k(a,!0);var g=j(!1,!0);return h.jsx("div",{className:g,ref:(g=b)!=null?g:null,children:d!=null&&e&&h.jsx("div",{className:"x6s0dn4 x78zum5 xl56j7k xmz0i5r x1n2onr6 x5yr21d xh8yej3",children:h.jsx("div",{className:a,style:c!=null&&f!=null?{backgroundImage:"url("+d+")",maxHeight:c,maxWidth:f}:{backgroundImage:"url("+d+")"}},d)})})}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){var c=a.imageComponent,d=a.imageComponentWithXStyle;a=a.withFooter;a=a===void 0?!1:a;var e=k(a,!1);a=l(a,!1);return h.jsx("div",{className:"x6s0dn4 x78zum5 xl56j7k xmz0i5r x1n2onr6",ref:b,children:c!=null?c(e):d!=null?d(a):null})}b.displayName=b.name+" [from "+f.id+"]";c=h.forwardRef(b);e=h.forwardRef(a);g.useCometPhotoViewerContainerStyles=j;g.CometPhotoViewerImageWrapper=c;g.CometPhotoViewerPlaceholderWrapper=e}),98);
__d("MWChatMediaData",[],(function(a,b,c,d,e,f){"use strict";var g=function(a){return a==null||a.__typename!=="MessageVideo"||a.sdUrl==null||a.image_thumb==null||a.image_thumb.uri==null||a.image_thumb.width==null||a.image_thumb.height==null||a.original_dimensions==null||a.original_dimensions.x==null||a.original_dimensions.y==null?null:{hdUrl:a.hdUrl,imageThumb:{height:a.image_thumb.height,uri:a.image_thumb.uri,width:a.image_thumb.width},legacyAttachmentID:a.legacy_attachment_id,originalDimensions:{x:a.original_dimensions.x,y:a.original_dimensions.y},sdUrl:a.sdUrl}},h=function(a){return a==null||a.__typename!=="MessageImage"||a.image==null||a.image.uri==null||a.image.width==null||a.image.height==null||a.image_thumb==null||a.image_thumb.uri==null||a.image_thumb.width==null||a.image_thumb.height==null?null:{blurredImageUri:a.blurred_image_uri,image:{downloadableUri:a.image.downloadable_uri,height:a.image.height,uri:a.image.uri,width:a.image.width},imageThumb:{height:a.image_thumb.height,uri:a.image_thumb.uri,width:a.image_thumb.width},legacyAttachmentID:a.legacy_attachment_id}},i=function(a){return a==null||a.__typename!=="MessageAnimatedImage"||a.image==null||a.image.uri==null||a.image.width==null||a.image.height==null||a.image_thumb==null||a.image_thumb.uri==null||a.image_thumb.width==null||a.image_thumb.height==null?null:{blurredImageUri:null,image:{downloadableUri:a.image.downloadable_uri,height:a.image.height,uri:a.image.uri,width:a.image.width},imageThumb:{height:a.image_thumb.height,uri:a.image_thumb.uri,width:a.image_thumb.width},legacyAttachmentID:a.legacy_attachment_id}};a=function(a){return a.reduce(function(a,b){if(b==null||b.node==null||b.node.id==null||b.node.message_id==null||b.node.blob_attachments==null||b.cursor==null)return a;var c=b.node,d=c.blob_attachments,e=c.id,f=c.message_id,j=c.timestamp_precise,k=b.cursor;c=d.map(function(a){if(a.__typename==="MessageImage"){var b=h(a);return b==null?null:{__typename:"MessageImage",attachment:b,cursor:k,messageID:f,nodeID:e,timestamp:j}}else if(a.__typename==="MessageVideo"){b=g(a);return b==null?null:{__typename:"MessageVideo",attachment:b,cursor:k,messageID:f,nodeID:e,timestamp:j}}else if(a.__typename==="MessageAnimatedImage"){b=i(a);return b==null?null:{__typename:"MessageAnimatedImage",attachment:b,cursor:k,messageID:f,nodeID:e,timestamp:j}}else return null}).filter(Boolean);return a.concat(c)},[]).filter(Boolean)};f.normalizeMessages=a}),66);
__d("MWChatMediaReducer",[],(function(a,b,c,d,e,f){"use strict";a={curIdx:0,hasNextPage:!1,hasPrevPage:!1,initialCursor:null,isFetchingNextPage:!1,isFetchingPrevPage:!1,mediaList:[]};b=function(a,b){switch(b.type){case"initialize":return babelHelpers["extends"]({},a,{curIdx:b.curIdx,initialCursor:b.initialCursor,mediaList:b.mediaList});case"startFetchingNextPage":return babelHelpers["extends"]({},a,{isFetchingNextPage:!0});case"startFetchingPrevPage":return babelHelpers["extends"]({},a,{isFetchingPrevPage:!0});case"prevPageReceived":return babelHelpers["extends"]({},a,{curIdx:a.curIdx+b.medias.length,hasPrevPage:b.hasPrevPage,isFetchingPrevPage:!1,mediaList:b.medias.concat(a.mediaList)});case"nextPageReceived":return babelHelpers["extends"]({},a,{hasNextPage:b.hasNextPage,isFetchingNextPage:!1,mediaList:a.mediaList.concat(b.medias)});case"messageDeleted":return babelHelpers["extends"]({},a,{curIdx:Math.min(Math.max(b.curIdx,0),a.mediaList.length-1),mediaList:b.mediaList});case"viewMediaAtIndex":return babelHelpers["extends"]({},a,{curIdx:Math.min(Math.max(b.curIdx,0),a.mediaList.length-1)});default:return a}};f.initialState=a;f.reducer=b}),66);
__d("MWChatDeleteMessageEventEmitter",["BaseEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";var h="deleteMessage",i=new(c("BaseEventEmitter"))();function a(a){i.emit(h,a)}function b(a){var b=i.addListener(h,a);return function(){return b.remove()}}g.emit=a;g.subscribe=b}),98);
__d("MWChatMediaUtil",["ExecutionEnvironment"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){if(!c("ExecutionEnvironment").canUseDOM)return;a.forEach(function(a){if(typeof a==="string"){var b=new Image();b.src=a}})};g.prefetchImages=a}),98);
__d("MWChatMediaViewerImage.react",["fbt","CometHero.react","CometPagelet.react","CometPhotoViewerImageSuspense","CometPhotoViewerInnerWrapper.react","CometPressable.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useState,k=h._("__JHASH__SUN00vbyQRp__JHASH__");function a(a){var b=a.blurredImageURI,e=a.imageURI,f=a.origHeight,g=a.origSrc;a=a.origWidth;var l=j(!1),m=l[0],n=l[1];l=d("CometPhotoViewerInnerWrapper.react").useCometPhotoViewerContainerStyles(!0);return i.jsx("div",{"data-testid":void 0,children:i.jsxs(d("CometPagelet.react").Placeholder,{className:l,fallback:g!=null?i.jsx(d("CometPhotoViewerInnerWrapper.react").CometPhotoViewerPlaceholderWrapper,{height:f,imageUri:g,showPlaceholderImage:g!=null&&a!=null&&f!=null,width:a,withFooter:!0}):null,name:"MessengerMediaViewerPhoto",pageletType:"media",children:[i.jsx(c("CometHero.react"),{description:"MWChatMediaViewerImage"}),b==null||m?i.jsx(d("CometPhotoViewerInnerWrapper.react").CometPhotoViewerImageWrapper,{imageComponent:function(a){return i.jsx(c("CometPhotoViewerImageSuspense"),{alt:k,className:a,src:e},e)},withFooter:!0}):i.jsx(c("CometPressable.react"),{display:"inline",label:h._("__JHASH__jjpvSNJ1g5C__JHASH__"),onPress:function(){return n(!0)},children:i.jsx(d("CometPhotoViewerInnerWrapper.react").CometPhotoViewerImageWrapper,{imageComponent:function(a){return i.jsx(c("CometPhotoViewerImageSuspense"),{alt:k,className:a,src:b},b)},withFooter:!0})})]},e)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatMediaViewerNavigationTapTarget.react",["ix","CometPressable.react","CometSkittleIcon.react","CometTrackingNodeProvider.react","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={buttonContainerBackground:{backgroundColor:"xiwuv7k",$$css:!0},buttonContainerHoverLeft:{opacity:"x1hc1fzr",transform:"xs51lif",$$css:!0},buttonContainerHoverRight:{opacity:"x1hc1fzr",transform:"xzycz3q",$$css:!0},fullHeight:{height:"x5yr21d",$$css:!0},invisible:{opacity:"xg01cxk",transitionDuration:"xhb22t3",transitionTimingFunction:"xls3em1",visibility:"xlshs6z",$$css:!0},navButton:{alignItems:"x6s0dn4",display:"x78zum5",opacity:"x197sbye",paddingTop:"xyamay9",paddingEnd:"x1pi30zi",paddingBottom:"x1l90r2v",paddingStart:"x1swvt13",position:"x1n2onr6",transitionDuration:"x1k90msu",transitionProperty:"x6o7n8i",transitionTimingFunction:"x9lcvmn",willChange:"x6my1t9",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",opacity:"x1hc1fzr",position:"x1n2onr6",transitionDuration:"x1ebt8du",transitionProperty:"x1jl3cmp",transitionTimingFunction:"x1dhq9h",willChange:"xfwg19i",zIndex:"x1vjfegm",$$css:!0},tapTargetOverlay:{height:"x5yr21d",$$css:!0}};function a(a){var b=a.direction,e=a.disable,f=e===void 0?!1:e;e=a.invisible;e=e===void 0?!1:e;var g=a.label,k=a.onClick,l=a.testid;l=a.trackingNode;a=i.jsx(c("CometPressable.react"),{"aria-label":g,focusable:!1,onPress:k,testid:void 0,xstyle:j.tapTargetOverlay,children:function(a){a=a.hovered;return i.jsx("div",{className:c("stylex")(j.navButton,j.buttonContainerBackground,a&&(b==="previous"?j.buttonContainerHoverLeft:j.buttonContainerHoverRight)),children:i.jsx(c("CometSkittleIcon.react"),{color:"gray",disabled:f,icon:b==="previous"?d("fbicon")._(h("492491"),24):d("fbicon")._(h("492539"),24),size:48})})}});return i.jsx("div",{className:"x6s0dn4 x78zum5 xl56j7k x1n2onr6 x1jl3cmp xfwg19i x1vjfegm x5yr21d"+(e?" xg01cxk xhb22t3 xls3em1 xlshs6z":" x1hc1fzr x1ebt8du x1dhq9h"),children:l!=null?i.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:l,children:a}):a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatMediaViewerStage.react",["fbt","CometBlurredBackgroundImage.react","CometGlobalPanelLayoutContext","CometKeys","CometLink.react","CometMediaViewerFilmstrip.react","CurrentEnvironment","Locale","MWChatMediaViewerNavigationTapTarget.react","MWLSFeatureLimitedStatus.bs","MessengerBlurpleLogoSvg.bs","XMessengerDotComCometRootControllerRouteBuilder","deferredLoadComponent","gkx","react","requireDeferred","useCometRouterDispatcher","useDebouncedComet","useLayerKeyCommands","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useContext,k=b.useMemo,l=b.useRef,m=b.useState,n=c("deferredLoadComponent")(c("requireDeferred")("MWChatMediaViewerControls.react").__setRef("MWChatMediaViewerStage.react")),o=2e3,p=c("gkx")("1299319");function a(a){var b=a.activeIndex,e=a.attachmentID,f=a.backgroundSrc,g=a.children,q=a.disableNextButton,r=a.disablePrevButton,s=a.downloadLink,t=a.hideNextButton,u=a.hidePrevButton,v=a.isForwardEnabledForThread,w=a.messageID,x=a.setActiveIndex,y=a.showMessengerLink,z=j(c("CometGlobalPanelLayoutContext")),A=c("CurrentEnvironment").messengerdotcom,B=c("gkx")("1224637"),C=c("gkx")("7278"),D=d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited();D=c("gkx")("1844772")&&!D&&v;var E=h._("__JHASH__LwpPfoJWBJ-__JHASH__"),F=h._("__JHASH__37s-bUHecpV__JHASH__"),G=l(!0);v=m(!1);var H=v[0],I=v[1],J=l(null),K=c("useCometRouterDispatcher")();v=function(){return L.isPending()?M():L()};var L=c("useDebouncedComet")(function(){I(!1),M()},{leading:!0,wait:o}),M=c("useDebouncedComet")(function(){I(!0),G.current=!1},{leading:!1,wait:o});c("useLayoutEffect_SAFE_FOR_SSR")(function(){M(),J.current&&G.current&&J.current.focus()});var N=function(){K!=null&&K.popPushView()},O=k(function(){var b=[];!u&&!r&&b.push({command:{key:c("CometKeys").LEFT},description:E,handler:function(){return x(a.activeIndex-1)}});!t&&!q&&b.push({command:{key:c("CometKeys").RIGHT},description:F,handler:function(){return x(a.activeIndex+1)}});return b},[q,r,t,u,F,E,a.activeIndex,x]),P=i.jsx(c("MWChatMediaViewerNavigationTapTarget.react"),{direction:d("Locale").isRTL()?"next":"previous",disable:r,invisible:u||H,label:E,onClick:function(){return x(b-1)},testid:void 0,trackingNode:143});H=i.jsx(c("MWChatMediaViewerNavigationTapTarget.react"),{direction:d("Locale").isRTL()?"previous":"next",disable:q,invisible:t||H,label:F,onClick:function(){return x(b+1)},testid:void 0,trackingNode:142});c("useLayerKeyCommands")(O);return i.jsxs("div",{className:"x6s0dn4 xal61yo x78zum5 xdt5ytf x1iyjqo2 x5yr21d x17upfok x1n2onr6 x87ps6o x1uvtmcs","data-testid":void 0,onMouseMove:v,ref:J,tabIndex:"0",children:[y&&i.jsx("div",{className:"x10l6tqk x16q8cke xomnu4r x1n327nk",children:i.jsx(c("CometLink.react"),{"aria-label":"Messenger",href:c("XMessengerDotComCometRootControllerRouteBuilder").buildURL({}),children:i.jsx(d("MessengerBlurpleLogoSvg.bs").make,{height:"40",width:"40"})})}),i.jsx("div",{className:"x1f90px3 x1ffmiix x10l6tqk xh8yej3 x1vjfegm"}),i.jsx("div",{className:"x1ey2m1c xds687c xuzhngd x10l6tqk x17qophe x13vifvy",children:f!=null?i.jsx(c("CometBlurredBackgroundImage.react"),{src:f}):null}),i.jsxs("div",{className:"x9f619 x78zum5 x1iyjqo2 x5yr21d xl56j7k x6ikm8r x10wlt62 x1n2onr6 xh8yej3 xvj1nn1 x1nd34w2",children:[e!=null&&w!=null?i.jsx("div",{className:"x6s0dn4 x78zum5 x10l6tqk"+(C?" xlr8s2x xng8ra xhtitgo":""+(B?" xlr8s2x xng8ra xhtitgo":" x1vjfegm"+(A?" xds687c xnnlda6":" xbruw4w"+(z?" xnnlda6":" x1s65kcs")))),children:i.jsx(n,{attachmentID:e,canForward:D,downloadLink:s,messageID:w})}):null,i.jsxs("div",{className:"x6s0dn4 x1ey2m1c x78zum5 xds687c x1qughib x10l6tqk x17qophe x13vifvy x1ja2u2z",children:[!p&&i.jsx("div",{"aria-hidden":!0,className:"x1ey2m1c x9f619 xds687c x10l6tqk x17qophe x13vifvy","data-testid":void 0,onClick:N}),P,H]}),g]}),i.jsx("div",{className:"x193iq5w x6ikm8r x10wlt62",children:i.jsx(c("CometMediaViewerFilmstrip.react"),{activeIndex:b,images:a.thumbnails.map(function(a){return babelHelpers["extends"]({},a,{mediaType:"image"})}),onSetImage:x})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatMediaViewerVideo.react",["CometRouteRenderType","MWChatVideoPlayer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=d("CometRouteRenderType").useIsPushView();return h.jsx("div",{className:"x6s0dn4 x78zum5 x1iyjqo2 xl56j7k x1xoerdy xh8yej3"+(b?""+(b?" x4uq5q4":""):" x1ch8t6n"),children:h.jsx(c("MWChatVideoPlayer.react"),{controls:"default",fbid:a.fbid,hdSrc:a.hdSrc,initialForceHD:!0,originalHeight:a.originalHeight,originalWidth:a.originalWidth,sdSrc:a.sdSrc})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatMediaRoot.react",["fbt","CometContentNotAvailable.react","CometErrorBoundary.react","CometErrorRoot.react","CometRelay","CometRouteParams","CometRouterPushViewStackContext","MWChatDeleteMessageEventEmitter","MWChatMediaData","MWChatMediaReducer","MWChatMediaRootQuery.graphql","MWChatMediaUtil","MWChatMediaViewerImage.react","MWChatMediaViewerStage.react","MWChatMediaViewerVideo.react","MWChatMessageId.bs","MWInboxInfoSharedContentQPLLogger.bs","WebPixelRatio","react","useIsMountedRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");e=d("react");var k=e.useCallback,l=e.useContext,m=e.useEffect,n=e.useReducer,o=e.useState,p=20,q=i!==void 0?i:i=b("MWChatMediaRootQuery.graphql");function r(a){var b=a.props;a=a.queries;var e=d("CometRelay").useRelayEnvironment(),f=d("CometRouteParams").useRouteParams();b.manualRouteParams!=null&&(f=b.manualRouteParams);var g=l(c("CometRouterPushViewStackContext"))||[];g=g.length===0&&b.routeProps.showMessengerLink;b=o(null);var i=b[0],r=b[1];b=n(d("MWChatMediaReducer").reducer,d("MWChatMediaReducer").initialState);var s=b[0],t=s.curIdx,u=s.hasNextPage,v=s.hasPrevPage,w=s.initialCursor,x=s.isFetchingNextPage,y=s.isFetchingPrevPage,z=s.mediaList,A=b[1],B=c("useIsMountedRef")(),C=d("CometRelay").usePreloadedQuery(q,a.messengerMediaRootQueryReference);if(i!==null)throw i;m(function(){var a;a=C==null?void 0:(a=C.message_thread)==null?void 0:(a=a.messages_with_attachments)==null?void 0:(a=a.edges[0])==null?void 0:a.cursor;if(a!=null&&w===null){var b;b=C==null?void 0:(b=C.message_thread)==null?void 0:(b=b.messages_with_attachments)==null?void 0:b.edges;if(b!=null){b=d("MWChatMediaData").normalizeMessages(b);var c=0;f.attachment_id!=null&&(c=b.findIndex(function(a){return a.attachment.legacyAttachmentID===f.attachment_id}));A({curIdx:c,initialCursor:a,mediaList:b,type:"initialize"})}}},[w,C,f.attachment_id]);var D=C==null?void 0:(s=C.message_thread)==null?void 0:s.id;a=C==null?void 0:(b=C.message_thread)==null?void 0:b.folder;m(function(){return d("MWChatDeleteMessageEventEmitter").subscribe(function(a){var b=t,c=z.filter(function(c,d){c=c.messageID===a;c&&(d<=t&&t>0&&b--);return!c});c.length!==z.length&&(D!=null&&e.commitUpdate(function(a){return(a=a.get(D))==null?void 0:a.invalidateRecord()}));A({curIdx:b,mediaList:c,type:"messageDeleted"})})},[e,D,t,z]);var E=k(function(a){A({type:"startFetchingPrevPage"});return d("CometRelay").fetchQuery(e,q,{before:a,last:p,scale:d("WebPixelRatio").get(),threadID:f.thread_id}).toPromise().then(function(a){var b;if(!B.current)return;a=a==null?void 0:(a=a.message_thread)==null?void 0:a.messages_with_attachments;b=d("MWChatMediaData").normalizeMessages((b=a==null?void 0:a.edges)!=null?b:[]);if(b.length>0){A({hasPrevPage:(a=a==null?void 0:(a=a.page_info)==null?void 0:a.has_previous_page)!=null?a:!1,medias:b,type:"prevPageReceived"})}})["catch"](function(a){if(!B.current)return;r(a)})},[e,B,f.thread_id]),F=k(function(a){A({type:"startFetchingNextPage"});return d("CometRelay").fetchQuery(e,q,{after:a,first:p,scale:d("WebPixelRatio").get(),threadID:f.thread_id}).toPromise().then(function(a){var b;if(!B.current)return;a=a==null?void 0:(a=a.message_thread)==null?void 0:a.messages_with_attachments;b=d("MWChatMediaData").normalizeMessages((b=a==null?void 0:a.edges)!=null?b:[]);if(b.length>0){A({hasNextPage:(a=a==null?void 0:(a=a.page_info)==null?void 0:a.has_next_page)!=null?a:!1,medias:b,type:"nextPageReceived"})}})["catch"](function(a){if(!B.current)return;r(a)})},[e,B,f.thread_id]);m(function(){w!=null&&(F(w),E(w))},[e,F,E,w,f.thread_id]);var G=(s=(i=z[0])==null?void 0:i.cursor)!=null?s:null,H=(i=(b=z[z.length-1])==null?void 0:b.cursor)!=null?i:null;m(function(){t<=p/2&&v&&!y&&G!=null?E(G):t>=z.length-p/2&&u&&!x&&H!=null&&F(H)},[t,E,F,u,v,G,H,z.length,x,y]);s=z[t-1];b=z[t+1];var I=null,J=null;s!=null&&s.__typename==="MessageImage"&&(I=s.attachment.image.uri);b!=null&&b.__typename==="MessageImage"&&(J=b.attachment.image.uri);m(function(){d("MWChatMediaUtil").prefetchImages([I,J])},[I,J]);m(function(){d("MWInboxInfoSharedContentQPLLogger.bs").logOpenContentViewer()},[]);i=z[t];if(w==null)return null;if(i==null)return j.jsx(c("CometContentNotAvailable.react"),{});s=z.map(function(a){var b=a.attachment.imageThumb,c=b.height,d=b.uri;b=b.width;return{alt:h._("__JHASH__SUN00vbyQRp__JHASH__"),height:c,key:(c=a.attachment.legacyAttachmentID)!=null?c:d,uri:d,width:b}}).filter(Boolean);return j.jsx(c("MWChatMediaViewerStage.react"),{activeIndex:t,attachmentID:i.attachment.legacyAttachmentID,backgroundSrc:i.__typename!=="MessageAnimatedImage"?i.attachment.imageThumb.uri:void 0,disableNextButton:x&&z[t+1]==null,disablePrevButton:y&&z[t-1]==null,downloadLink:i.__typename==="MessageVideo"?(b=i.attachment.hdUrl)!=null?b:i.attachment.sdUrl:i.attachment.image.downloadableUri,hideNextButton:!u&&z[t+1]==null,hidePrevButton:!v&&z[t-1]==null,isForwardEnabledForThread:a!=="COMMUNITY"&&a!=="E2EE_CUTOVER",messageID:typeof f.thread_id==="string"&&i.timestamp!=null?d("MWChatMessageId.bs").makeSent(f.thread_id,i.messageID,i.timestamp):null,setActiveIndex:function(a){return A({curIdx:a,type:"viewMediaAtIndex"})},showMessengerLink:g,thumbnails:s,children:i.__typename==="MessageVideo"?j.jsx(c("MWChatMediaViewerVideo.react"),{fbid:i.nodeID,hdSrc:i.attachment.hdUrl!=null?i.attachment.hdUrl:void 0,originalHeight:i.attachment.originalDimensions.x,originalWidth:i.attachment.originalDimensions.y,sdSrc:i.attachment.sdUrl}):i.__typename==="MessageImage"?j.jsx(c("MWChatMediaViewerImage.react"),{blurredImageURI:i.attachment.blurredImageUri,imageURI:i.attachment.image.uri}):i.__typename==="MessageAnimatedImage"?j.jsx(c("MWChatMediaViewerImage.react"),{blurredImageURI:null,imageURI:i.attachment.image.uri,origHeight:i.attachment.image.height,origWidth:i.attachment.image.width}):null})}r.displayName=r.name+" [from "+f.id+"]";function a(a){a=j.jsx(r,babelHelpers["extends"]({},a));return j.jsx(c("CometErrorBoundary.react"),{fallback:function(){return j.jsx(c("CometErrorRoot.react"),{})},children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometProfileAdCenterRootContentQuery$Parameters",["CometProfileAdCenterRootContentQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometProfileAdCenterRootContentQuery_facebookRelayOperation"),metadata:{},name:"CometProfileAdCenterRootContentQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometProfileAdCenterRootQuery$Parameters",["CometProfileAdCenterRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometProfileAdCenterRootQuery_facebookRelayOperation"),metadata:{},name:"CometProfileAdCenterRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometProfileInsightsPostsMainCardQuery$Parameters",["CometProfileInsightsPostsMainCardQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometProfileInsightsPostsMainCardQuery_facebookRelayOperation"),metadata:{},name:"CometProfileInsightsPostsMainCardQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometUFICommentImageAttachmentStyle_styleTypeRenderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},d=[c],e=[b],f={kind:"InlineFragment",selections:e,type:"Node",abstractKey:"__isNode"},g={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:d,storageKey:null},h=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],i={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},k={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"label",plural:!1,selections:h,storageKey:null},l={kind:"Variable",name:"scale",variableName:"scale"},m={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"CometUFICommentImageAttachmentStyle_styleTypeRenderer$normalization",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachment",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[a,b],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[a,{alias:"blurred_image",args:[{kind:"Literal",name:"blur",value:30}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:d,storageKey:"image(blur:30)"},f,{kind:"InlineFragment",selections:e,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:e,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:e,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:e,type:"MontageVideo",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"feedback_comment"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"content_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"session_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"container_story_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"render_type",storageKey:null},g,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"WarningScreenAction",kind:"LinkedField",name:"center_actions",plural:!0,selections:[i,j,{alias:null,args:null,kind:"ScalarField",name:"ixt_trigger",storageKey:null},g,k],storageKey:null},{alias:null,args:null,concreteType:"WarningScreenAction",kind:"LinkedField",name:"bottom_actions",plural:!0,selections:[i,j,g,k],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"top_objectionable_category",storageKey:null}],type:"OverlayWarningScreenViewModel",abstractKey:null},f],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"feedback_comment")'},{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},{alias:"massive_image",args:[l],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[m,n],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:210},l,{kind:"Literal",name:"width",value:260}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[c,m,n],storageKey:null}],type:"Photo",abstractKey:null}],storageKey:null}],storageKey:null}]}}();e.exports=a}),null);
__d("CometUFICommentImageAttachmentStyle_styleTypeRenderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentImageAttachmentStyle_styleTypeRenderer",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachment",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometUFICommentImageAttachment_attachment"}],storageKey:null}],type:"StoryAttachmentPhotoStyleRenderer",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentImageAttachment_attachment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"scale",variableName:"scale"},b={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometUFICommentImageAttachment_attachment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFICommentAttachmentContentFilterContainer_storyAttachment"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"feedback_comment"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometUFICommentAttachmentContentFilterContainer_cixScreen"}],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"feedback_comment")'},{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},{alias:"massive_image",args:[a],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[b,c],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:210},a,{kind:"Literal",name:"width",value:260}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},b,c],storageKey:null}],type:"Photo",abstractKey:null}],storageKey:null}],type:"StoryAttachment",abstractKey:null}}();e.exports=a}),null);
__d("FBProtectEnrolmentCometApp.react",["CheckpointAppContent.react","FBProtectEnrolmentDropdown.entrypoint","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entryPoints;a=a.props;return h.jsx(c("CheckpointAppContent.react"),{customSettings:{componentProps:{},entryPoint:c("FBProtectEnrolmentDropdown.entrypoint"),entryPointParams:{}},mainContent:b.mainContent,mainContentProps:{deadline:a.deadline}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BSCGating",["PayoutEnvironmentProvider","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";function h(){return!c("gkx")("4108")}function a(a){return a===d("PayoutEnvironmentProvider").PayoutEnvironmentType.FBS_WEB||h()}function b(a){return c("gkx")("1604")&&(c("gkx")("4374")||a===d("PayoutEnvironmentProvider").PayoutEnvironmentType.FB_WEB)}function e(){return!c("gkx")("4108")}function f(){return c("gkx")("8031")}function i(){return k()||l()}function j(){return c("gkx")("2004")}function k(){return c("gkx")("6914")}function l(){return!0}function m(){return c("gkx")("1952")}function n(){var a;return(a=c("qex")._("1273"))!=null?a:!1}function o(){return c("gkx")("2040")}function p(){return c("gkx")("3546")}function q(){return c("gkx")("1636")}function r(){return c("gkx")("1511")}g.shouldViewOverviewTab=h;g.shouldViewOverviewSummary=a;g.shouldShowRemittanceDownloadButton=b;g.shouldShowCostBreakdownInEarningsTable=e;g.useShouldShowTransactionsTab=f;g.shouldShowNotificationHub=i;g.shouldShowPayoutNotificationHubInNonprofitManager=j;g.shouldShowHoldsInNotificationHub=k;g.shouldShowHyperWalletInNotificationHub=l;g.shouldShowDetailsV2=m;g.shouldShowDeferredOnboarding=n;g.shouldShowNullStates=o;g.shouldShowDownloadInvoicesRemittances=p;g.showShowCustomDateRanges=q;g.showEducationNuxTour=r}),98);
__d("MSCBaseCard.react",["CometCard.react","CometColumn.react","CometColumnItem.react","CometRow.react","CometRowItem.react","PaymentsCometOverlayLoadingSpinner.react","PayoutEnvironmentProvider","TetraTextPairing.react","cr:9946","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.button,f=a.content,g=a.contentHorizontalPadding;g=g===void 0?12:g;var i=a.contentVerticalPadding;i=i===void 0?20:i;var j=a.dropShadow;j=j===void 0?!1:j;var k=a.headerHorizontalPadding;k=k===void 0?0:k;var l=a.headline,m=a.headlineComponent,n=a.headlineSubtitle;a=a.isLoading;a=a===void 0?!1:a;var o=d("PayoutEnvironmentProvider").usePayoutEnvironment();o=o!==d("PayoutEnvironmentProvider").PayoutEnvironmentType.FBS_WEB;var p=null;l!=null&&(p=o?h.jsx(c("TetraTextPairing.react"),{body:n,bodyColor:"secondary",headline:l,level:2}):b("cr:9946")!=null&&h.jsx(b("cr:9946"),{description:n,heading:l,size:"header2"}));return h.jsxs("div",{className:"x78zum5 x5yr21d xh8yej3"+(j?" x7r5mf7 xeyog9w xahult9 x1w4ip6v":""),children:[h.jsx(c("CometCard.react"),{background:"white",border:"none",dropShadow:j?2:0,expanding:!0,children:h.jsx("div",{className:"x78zum5 x5yr21d xh8yej3",children:h.jsxs(c("CometColumn.react"),{expanding:!0,children:[l!=null||e!=null||m!=null?h.jsx(c("CometColumnItem.react"),{children:h.jsx("div",{className:"x1pi30zi xh8yej3",children:h.jsxs(c("CometRow.react"),{paddingHorizontal:g,paddingTop:12,children:[h.jsx(c("CometRowItem.react"),{expanding:!0,verticalAlign:"center",children:(o=m)!=null?o:h.jsx("div",{style:{paddingLeft:k,paddingRight:k},children:p})}),h.jsx(c("CometRowItem.react"),{verticalAlign:"center",children:e})]})})}):null,h.jsx(c("CometColumnItem.react"),{expanding:!0,children:h.jsx("div",{style:{height:"100%",overflow:"auto",paddingBottom:i,paddingLeft:g,paddingRight:g,paddingTop:i},children:f})})]})})}),a&&h.jsx(c("PaymentsCometOverlayLoadingSpinner.react"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ProfileCometTypeaheadEntityViewItem.react",["ix","CometImageIcon_DEPRECATED.react","CometTypeaheadViewItem.react","TetraIcon.react","TetraText.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.entry;a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","queryString"]);var e=b.rawData;if(e==null)return null;var f=e.photo;e=(e=e.isSelected)!=null?e:!1;return i.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:b,children:i.jsxs("div",{className:"x78zum5 x1q0g3np x1qughib",children:[i.jsxs("div",{className:"x78zum5 x1q0g3np x1nhvcw1 xjwf9q1 x6ikm8r x10wlt62 x1nn3v0j x4uap5 x1120s5i xkhd6sd",children:[i.jsx("div",{className:"x1e558r4",children:f!=null&&f!==""&&i.jsx(c("CometImageIcon_DEPRECATED.react"),{size:36,src:f,style:"roundedRect"})}),i.jsx("div",{className:"x78zum5 xdt5ytf x1l1ennw x6ikm8r",children:i.jsx("div",{className:"x1ye3gou x1yc453h",children:i.jsx(c("TetraText.react"),{numberOfLines:1,type:"headlineEmphasized4",children:b.label})})})]}),e&&i.jsx("div",{className:"x78zum5 xdt5ytf xl56j7k x1hwekxz",children:i.jsx(c("TetraIcon.react"),{color:"highlight",icon:d("fbicon")._(h("477814"),20)})})]})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometProfileAdCenterRoot.entrypoint",["AdCenterUnifiedTwoColumnOverviewCardSectionQuery$Parameters","CometProfileAdCenterRootContentQuery$Parameters","CometProfileAdCenterRootQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";var h=4,i=365,j=0,k=function(){return++j};a={getPreloadProps:function(a){a=a.routeProps;var e=a.pageID;a=a.supportedAppIDs;return{extraProps:{routeProps:{pageID:e,refSource:"profile_plus_comet_profile_insights"}},queries:{adCenterOverviewCardSectionQueryReference:{options:{fetchKey:k(),fetchPolicy:"network-only"},parameters:c("AdCenterUnifiedTwoColumnOverviewCardSectionQuery$Parameters"),variables:{numCards:h,options:{from_n_days_ago:i,source_app_ids:a},pageID:e,scale:d("WebPixelRatio").get()}},adCenterRootQueryReference:{parameters:c("CometProfileAdCenterRootContentQuery$Parameters"),variables:{pageID:e,scale:d("WebPixelRatio").get()}},cometProfileAdCenterRootQueryReference:{parameters:b("CometProfileAdCenterRootQuery$Parameters"),variables:{pageID:String(e),scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometProfileAdCenterRoot.react").__setRef("CometProfileAdCenterRoot.entrypoint")};g["default"]=a}),98);
__d("CometUFICommentAttachmentContentFilterBootloadPlaceholder.react",["BaseGlimmer.react","CometUFICommentAttachmentContainer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={buttonGlimmer:{borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",height:"xc9qbxq",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"x12nagc",marginStart:"x1mh8g0r",$$css:!0},contentGlimmer:{bottom:"x1ey2m1c",boxSizing:"x9f619",end:"xds687c",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",$$css:!0}};function a(a){var b=a.height,d=a.width;a=a.xstyle;return h.jsxs(h.Fragment,{children:[h.jsx(c("CometUFICommentAttachmentContainer.react"),{height:b,width:d,xstyle:a,children:h.jsx(c("BaseGlimmer.react"),{index:0,xstyle:i.contentGlimmer})}),h.jsx(c("BaseGlimmer.react"),{index:1,xstyle:i.buttonGlimmer})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFICommentImageAttachment.react",["BaseLink.react","CometImage.react","CometPlaceholder.react","CometRelay","CometUFICommentAttachmentContainer.react","CometUFICommentAttachmentContentFilterBootloadPlaceholder.react","CometUFICommentImageAttachment_attachment.graphql","JSResourceForInteraction","UFI2ScaleRect","gkx","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("CometUFICommentAttachmentContentFilterContainer.react").__setRef("CometUFICommentImageAttachment.react"));function a(a){var e,f,g,k,l,m=a.attachment$key,n=a.storyRenderLocation;a=a.xstyle;m=d("CometRelay").useFragment(h!==void 0?h:h=b("CometUFICommentImageAttachment_attachment.graphql"),m);e=(e=m.media)==null?void 0:(e=e.image)==null?void 0:e.uri;f=(f=m.media)==null?void 0:(f=f.image)==null?void 0:f.width;g=(g=m.media)==null?void 0:(g=g.image)==null?void 0:g.height;var o=m.url;k=(k=(k=m.media)==null?void 0:k.accessibility_caption)!=null?k:void 0;l=(l=m.media)==null?void 0:(l=l.cix_screen)==null?void 0:l.view_model;if(m&&e!==""&&e!=null&&o!==""&&o!=null&&f!=null&&g!=null){var p,q,r;g=d("UFI2ScaleRect").scaleToContain({gracefullyFallbackToMaxDimensionWhenHeightOrWidthIsZero:!0,maxHeight:210,maxWidth:260,srcHeight:g,srcWidth:f});f=g.height;g=g.width;p=(p=m.media)==null?void 0:(p=p.massive_image)==null?void 0:p.height;q=(q=m.media)==null?void 0:(q=q.image)==null?void 0:q.uri;r=(r=m.media)==null?void 0:(r=r.massive_image)==null?void 0:r.width;p=p!=null&&q!=null&&r!=null?{origHeight:p,origSrc:q,origWidth:r}:null;q=i.jsx(c("BaseLink.react"),{href:o,passthroughProps:p,rel:c("gkx")("708253")?void 0:"theater",children:i.jsx(c("CometImage.react"),{alt:k,height:f,src:e,width:g})});return l?i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("CometUFICommentAttachmentContentFilterBootloadPlaceholder.react"),{height:f,width:g,xstyle:a}),children:i.jsx(j,{cixScreen$key:l,height:f,storyAttachment$key:m,storyRenderLocation:n,width:g,xstyle:a,children:q})}):i.jsx(c("CometUFICommentAttachmentContainer.react"),{height:f,width:g,xstyle:a,children:q})}return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFICommentImageAttachmentStyle.react",["CometRelay","CometUFICommentImageAttachment.react","CometUFICommentImageAttachmentStyle_styleTypeRenderer.graphql","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=d("react").useEffect,k={imageAttachmentRoot:{marginTop:"xdj266r",$$css:!0}};function a(a){var e=a.commentId_FOR_DEBUGGING_ONLY,f=a.storyRenderLocation;a=a.styleTypeRenderer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometUFICommentImageAttachmentStyle_styleTypeRenderer.graphql"),a);var g=a.attachment;j(function(){if(g==null){var a;c("recoverableViolation")("CometUFICommentImageAttachmentStyle: Tried to render an image, but attachment information is null for comment with ID "+((a=e)!=null?a:"UNKNOWN"),"ufi2")}},[g,e]);return g==null?null:i.jsx(c("CometUFICommentImageAttachment.react"),{attachment$key:g,storyRenderLocation:f,xstyle:k.imageAttachmentRoot})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("codedError",["fbt","invariant"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a){i(0,2095)}a.withParams=function(a,b){i(0,2095)};a._=function(a,b,c,d){b=b(h);c=c(h,d);d=b+": "+c;d=new Error(d);Object.assign(d,{framesToPop:1,code:a,description:c,summary:b});return d};b=a;g["default"]=b}),98);
__d("PagesCometEventsAdminRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4942980802487351"}),null);/*FB_PKG_DELIM*/
__d("WorkChatBulkUpdatePinnedThreadsMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="3431181227006039"}),null);
__d("WorkChatBulkUpdatePinnedThreadsMutation.graphql",["WorkChatBulkUpdatePinnedThreadsMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"ThreadBatchUpdatePinStatusResponsePayload",kind:"LinkedField",name:"thread_batch_update_pin_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_subscription_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"WorkChatBulkUpdatePinnedThreadsMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"WorkChatBulkUpdatePinnedThreadsMutation",selections:c},params:{id:b("WorkChatBulkUpdatePinnedThreadsMutation_facebookRelayOperation"),metadata:{},name:"WorkChatBulkUpdatePinnedThreadsMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("MessengerThreadThemeUpdateMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7797591876921400"}),null);
__d("MessengerThreadThemeUpdateMutation.graphql",["MessengerThreadThemeUpdateMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerThreadThemeUpdateResponsePayload",kind:"LinkedField",name:"messenger_thread_theme_update",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MessengerThreadThemeUpdateMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MessengerThreadThemeUpdateMutation",selections:c},params:{id:b("MessengerThreadThemeUpdateMutation_facebookRelayOperation"),metadata:{},name:"MessengerThreadThemeUpdateMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("MessengerThreadThemeUpdate",["MessengerThreadThemeUpdateMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h!==void 0?h:h=b("MessengerThreadThemeUpdateMutation.graphql");c=a;g["default"]=c}),98);
__d("WorkChatBulkUpdatePinnedThreadsMutation",["ClientIDs","CurrentUser","MercuryIDs","RelayFBEnvironment","RelayModern","Timezone","TimezoneNamesData","WorkChatBulkUpdatePinnedThreadsMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;d("Timezone").registerNamesModule(b("TimezoneNamesData"));var i=h!==void 0?h:h=b("WorkChatBulkUpdatePinnedThreadsMutation.graphql");function a(a){var b=a.threadIDs,e=a.source,f=a.onCompleted;a=a.onError;b=b.map(function(a){return{thread_fbid:d("MercuryIDs").getThreadFBIDFromThreadID(a),update_type:"MARK_PINNED"}});return d("RelayModern").commitMutation(c("RelayFBEnvironment"),{mutation:i,variables:{input:{client_mutation_id:d("ClientIDs").getNewClientID(),actor_id:c("CurrentUser").getID(),threads_pin_status:b,source:e}},onCompleted:f,onError:a})}g.commit=a}),98);
__d("XChatRemoveParticipantAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/remove_participants/",{elem_id:{type:"String"},uid:{type:"Int"},tid:{type:"String"}})}),null);
__d("XMessagingBlockMessagesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/block_messages/",{privacy_mutation_token:{type:"String"}})}),null);
__d("XMessagingGroupSetApprovalController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/set_approval_mode/",{set_mode:{type:"Enum",enumType:0},thread_fbid:{type:"String"}})}),null);
__d("XMessagingSaveAdminsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/save_admins/",{thread_fbid:{type:"String"},admin_ids:{type:"FBIDSet"},add:{type:"Bool",defaultValue:!1}})}),null);
__d("XMessagingSaveGroupThreadDescriptionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/save_group_thread_description/",{source:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessagingSaveNicknameController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/save_thread_nickname/",{source:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessagingSaveThreadColorController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/save_thread_color/",{source:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessagingSaveThreadEmojiController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/save_thread_emoji/",{source:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XMessagingSetThreadNameController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/set_thread_name/",{})}),null);
__d("XMessagingUnblockMessagesController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/unblock_messages/",{})}),null);
__d("XNFXIgnoreMessagesActionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/nfx/ignore_messages/",{__asyncDialog:{type:"Int"},thread_fbid:{type:"Int",required:!0},location:{type:"Enum",required:!0,enumType:1},frx_context:{type:"String"}})}),null);
__d("XNFXMessengerBlockActionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/nfx/block_messages/",{__asyncDialog:{type:"Int"},thread_fbid:{type:"Int",required:!0},responsible_id:{type:"Int"},location:{type:"Enum",required:!0,enumType:1},frx_context:{type:"String"},entry_point:{type:"Enum",required:!0,enumType:1}})}),null);
__d("MercuryThreadActions",["codedError","cssVar","fbt","invariant","AsyncDialog","AsyncRequest","Bootloader","CurrentUser","EmojiLikeConstants","IgnoreMessagesTypedLogger","JSResource","MercuryAPIArgsSource","MercuryDispatcher","MercuryIDs","MercuryMessageActions","MercuryMessageObject","MercuryMessengerBlockingUtils","MercuryServerPayloadPreprocessor","MercuryServerRequests","MercurySingletonProvider","MercuryThreadIDMap","MercuryViewer","MessagingTag","MessengerConfig","MessengerEmojiTransitionMapping.bs","MessengerParticipants.bs","MessengerState.re","MessengerThreadThemeUpdate","NFXContextFactory","PageCommItemStatus","RelayFBEnvironment","RelayModern","URI","WorkChatBulkUpdatePinnedThreadsMutation","WorkChatConstants","XChatRemoveParticipantAsyncController","XMessagingBlockMessagesController","XMessagingGroupSetApprovalController","XMessagingSaveAdminsController","XMessagingSaveGroupThreadDescriptionController","XMessagingSaveNicknameController","XMessagingSaveThreadColorController","XMessagingSaveThreadEmojiController","XMessagingSetThreadNameController","XMessagingUnblockMessagesController","XNFXIgnoreMessagesActionController","XNFXMessengerBlockActionController","err","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l=d("react"),m=c("lazyLoadComponent")(c("JSResource")("MessengerSimpleDialogReact").__setRef("MercuryThreadActions"));a=function(){function a(a){var b=this;this.batchMarkUnread=function(a,c){b.__dispatcher.handleUpdate(b.$2(a,!1,c))};this.batchMarkRead=function(a,c){b.__dispatcher.handleUpdate(b.$2(a,!0,c))};this.batchArchive=function(a,c){a.forEach(function(a){b.__serverRequests.changeThreadArchivedStatus(a,!0,c)}),b.__dispatcher.handleUpdate(b.$3(a,!0))};this.batchUnarchive=function(a,c){a.forEach(function(a){b.__serverRequests.changeThreadArchivedStatus(a,!1,c)}),b.__dispatcher.handleUpdate(b.$3(a,!1))};this.batchMarkSpam=function(a,d){a.forEach(function(a){b.__serverRequests.markThreadSpam(a,d)}),b.__dispatcher.handleUpdate(b.$11(a,c("MessagingTag").SPAM))};this.batchUnmarkSpam=function(a,d){a.forEach(function(a){b.__serverRequests.unmarkThreadSpam(a,d)}),b.__dispatcher.handleUpdate(b.$11(a,c("MessagingTag").INBOX))};this.$1=a;this.__serverRequests=c("MercuryServerRequests").getForFBID(this.$1);this.__dispatcher=c("MercuryDispatcher").getForFBID(this.$1);this.__payloadPreprocessor=c("MercuryServerPayloadPreprocessor").getForFBID(this.$1);this.__mercuryThreadIDMap=c("MercuryThreadIDMap").getForFBID(this.$1);this.__messageActions=c("MercuryMessageActions").getForFBID(this.$1);this.__messageObject=c("MercuryMessageObject").getForFBID(this.$1)}a.getForFBID=function(a){return n.getForFBID(a)};a.get=function(){return n.get()};var b=a.prototype;b.markRead=function(a,b){this.batchMarkRead([a],b)};b.markUnread=function(a,b){this.batchMarkUnread([a],b)};b.markSeen=function(a,b){this.__dispatcher.handleUpdate(this.__constructClientPayload([a],"ma-type:mark_thread_seen","client_mark_thread_seen",{persistent:b}))};b.archive=function(a,b){this.batchArchive([a],b)};b.unarchive=function(a,b){this.batchUnarchive([a],b)};b.pin=function(a,b,e){var f=d("MessengerState.re").getPinnedThreadlist(c("CurrentUser").getID()),g=c("CurrentUser").isWorkUser(),i=g?c("WorkChatConstants").max_pinned_threads:c("MessengerConfig").MPT;f=f.length>=i;if(f){f=h._(1545078,function(a){return a._("__JHASH__523aE3gf7Gl__JHASH__")},function(a,b){return a._("__JHASH__g0SyeTzTPqt__JHASH__",[a._param("max_threads",b.max_threads)])},{max_threads:i});var k=g?j._("__JHASH__W6HGzELAkgK__JHASH__"):f.summary,n=g?j._("__JHASH__GosUJaX6b7B__JHASH__"):f.description;c("Bootloader").loadModules(["MessengerDialogs.bs"],function(a){a.showDialog(function(){return l.jsx(l.Suspense,{fallback:l.jsx("div",{}),children:l.jsx(m,{title:k,body:n})})})},"MercuryThreadActions")}else this.batchPin([a],e),this.$4(a,!0,b)};b.batchPin=function(a,b){var c=this;a.forEach(function(a){c.__serverRequests.changeThreadPinnedStatus(a,!0,b)});this.__dispatcher.handleUpdate(this.$5(a,!0))};b.unpin=function(a,b,c){b===void 0&&(b=null),this.batchUnpin([a],c),this.$4(a,!1,b)};b.batchUnpin=function(a,b){var c=this;a.forEach(function(a){c.__serverRequests.changeThreadPinnedStatus(a,!1,b)});this.__dispatcher.handleUpdate(this.$5(a,!1))};b.bulkPinThreadsUpdate=function(a,b){d("WorkChatBulkUpdatePinnedThreadsMutation").commit({threadIDs:a,source:b}),this.__dispatcher.handleUpdate(this.$5(a,!0))};b.pinMessage=function(a,b){this.__dispatcher.handleUpdate(this.$6(a,b))};b.unpinMessage=function(a,b){this.__dispatcher.handleUpdate(this.$7(a,b))};b.markPageFollowUp=function(a,b){this.batchMarkPageFollowUp([a],b)};b.batchMarkPageFollowUp=function(a,b){var c=this;a.forEach(function(a){c.__serverRequests.changeThreadPageFollowUpStatus(a,!0,b)});this.__dispatcher.handleUpdate(this.$8(a,!0))};b.syncBizInboxTags=function(a,b,c){this.__dispatcher.handleUpdate(this.$9([a],b,c))};b.syncUnrespondedStatus=function(a,b){this.__dispatcher.handleUpdate(this.$10([a],b))};b.unmarkPageFollowUp=function(a,b){this.batchUnmarkPageFollowUp([a],b)};b.batchUnmarkPageFollowUp=function(a,b){var c=this;a.forEach(function(a){c.__serverRequests.changeThreadPageFollowUpStatus(a,!1,b)});this.__dispatcher.handleUpdate(this.$8(a,!1))};b.markSpam=function(a,b){this.batchMarkSpam([a],b)};b.unmarkSpam=function(a,b){this.batchUnmarkSpam([a],b)};b.changeFolder=function(a,b){this.batchChangeFolder([a],b)};b.batchChangeFolder=function(a,b){var c=this;a.forEach(function(a){c.__serverRequests.changeThreadFolder(a,b)});this.__dispatcher.handleUpdate(this.$11(a,b))};b["delete"]=function(a,b){this.batchDelete([a],b)};b.batchDelete=function(a,b){this.__serverRequests.deleteThreads(a,b),this.__dispatcher.handleUpdate(this.__constructClientPayload(a,"ma-type:delete-thread","client_delete_thread"))};b.unmute=function(a){this.updateMuteSetting(a,0)};b.updateMuteSetting=function(a,b){this.__serverRequests.changeMutingOnThread(a,b),this.__dispatcher.handleUpdate(this.__constructClientPayload([a],"ma-type:change-mute-settings","client_change_mute_settings",{mute_until:b}))};b.blockMessagesForGroupThread=function(a,b,e,f){var g=d("MercuryIDs").getUserIDFromParticipantID(b);this.__mercuryThreadIDMap.getServerIDFromClientID(a,function(a){a=c("XNFXMessengerBlockActionController").getURIBuilder().setEnum("entry_point",e).setEnum("location","www_chat_head").setInt("thread_fbid",a).setInt("responsible_id",g).getURI();c("AsyncDialog").send(new(c("AsyncRequest"))(a).setRelativeTo(f),function(a){a.subscribe("confirm",function(){a.hide()})})})};b.blockMessages=function(a,b,e){var f=this,g="",h=d("MercuryIDs").getUserIDFromThreadID(a);h!=null||k(0,400);var i=d("MessengerParticipants.bs").getNow(d("MercuryIDs").getParticipantIDFromUserID(h));g=i&&i.short_name;i=c("XNFXMessengerBlockActionController").getURIBuilder().setInt("thread_fbid",h).setEnum("entry_point",b).setEnum("location","www_chat_head").getURI();c("AsyncDialog").send(new(c("AsyncRequest"))(i),function(b){b.subscribe("confirm",function(){b.hide(),e&&e(g),f.changeFolder(a,c("MessagingTag").OTHER)})})};b.unblockMessages=function(a,b){var e=this;b==null&&(b=d("MercuryIDs").getUserIDFromThreadID(a));if(b===null)throw c("err")("Expected user ID to unblock messages for, got null");b=d("NFXContextFactory").withEntReportable({reportable_ent_token:b,story_location:"messenger",initial_action_name:c("MercuryMessengerBlockingUtils").block_messages});new(c("AsyncRequest"))(new(c("URI"))("/ajax/nfx/messenger_undo_block").addQueryData({context:b})).setHandler(function(){return e.changeFolder(a,c("MessagingTag").INBOX)}).send()};b.ignoreMessages=function(a){a=c("XNFXIgnoreMessagesActionController").getURIBuilder().setInt("thread_fbid",a).setEnum("location","www_chat_head").getURI();c("AsyncDialog").send(new(c("AsyncRequest"))(a))};b.blockOnMessengerDotCom=function(a){var b=c("XMessagingBlockMessagesController").getURIBuilder().getURI();new(c("IgnoreMessagesTypedLogger"))().setEvent("block_confirmed").setThreadID(d("MercuryIDs").getThreadFBIDFromThreadID(a)).setPlatform("messengerdotcom").log();new(c("AsyncRequest"))(b).setMethod("POST").setData({fbid:d("MercuryIDs").getUserIDFromThreadID(a)}).send()};b.blockIgnoreOnMessengerDotCom=function(a,b,d){var e=this;c("Bootloader").loadModules(["MessengerActions"],function(c){a&&c.selectThread(b),e.blockOnMessengerDotCom(b),d&&d()},"MercuryThreadActions")};b.unblockOnMessengerDotCom=function(a){var b=this,e=c("XMessagingUnblockMessagesController").getURIBuilder().getURI();new(c("AsyncRequest"))(e).setMethod("POST").setData({fbid:d("MercuryIDs").getUserIDFromThreadID(a)}).setHandler(function(){return b.changeFolder(a,c("MessagingTag").INBOX)}).send()};b.leaveGroup=function(a){this.__messageActions.send(this.__messageObject.constructLogMessageObject("source:titan:web",a,"log:unsubscribe",{removed_participants:[d("MercuryViewer").getID()]}),null,c("MercuryAPIArgsSource").WEBMESSENGER)};b.removeFromGroup=function(a,b){var d=c("XChatRemoveParticipantAsyncController").getURIBuilder().getURI();a={request_user_id:this.$1,tid:a,uid:b};new(c("AsyncRequest"))(d).setMethod("POST").setData(a).send()};b.changeThreadTheme=function(a,b,e){var f=this;this.__mercuryThreadIDMap.getServerIDFromClientID(a,function(a){d("RelayModern").commitMutation(c("RelayFBEnvironment"),{mutation:c("MessengerThreadThemeUpdate"),variables:{input:{client_mutation_id:"0",actor_id:f.$1,thread_id:a,theme_id:b,source:e}}})})};b.changeThreadColor=function(a,b,d){var e=this;this.__mercuryThreadIDMap.getServerIDFromClientID(a,function(a){a={request_user_id:e.$1,thread_or_other_fbid:a,color_choice:b!="#0084ff"?b:null};var f=c("XMessagingSaveThreadColorController").getURIBuilder().setEnum("source",d).getURI();new(c("AsyncRequest"))(f).setMethod("POST").setData(a).send()})};b.changeThreadEmoji=function(a,b,e){var f=this;this.__mercuryThreadIDMap.getServerIDFromClientID(a,function(a){a={request_user_id:f.$1,thread_or_other_fbid:a,emoji_choice:void 0};var g=String.fromCodePoint.apply(String,b);d("MessengerEmojiTransitionMapping.bs").hasGender(b)&&(g=String.fromCodePoint.apply(String,d("MessengerEmojiTransitionMapping.bs").removeAllModifiers(b)));g!==String.fromCodePoint.apply(String,d("EmojiLikeConstants").FB_THUMBS_UP_EMOJI)&&g!==String.fromCodePoint.apply(String,d("EmojiLikeConstants").THUMBS_UP_EMOJI_CODES)&&(a.emoji_choice=g);g=c("XMessagingSaveThreadEmojiController").getURIBuilder().setEnum("source",e).getURI();new(c("AsyncRequest"))(g).setMethod("POST").setData(a).send()})};b.changeThreadNicknames=function(a,b,d,e){var f=this;this.__mercuryThreadIDMap.getServerIDFromClientID(a,function(a){a={request_user_id:f.$1,thread_or_other_fbid:a,participant_id:b,nickname:d};var g=c("XMessagingSaveNicknameController").getURIBuilder().setEnum("source",e).getURI();new(c("AsyncRequest"))(g).setMethod("POST").setData(a).send()})};b.changeGroupThreadDescription=function(a,b,d){var e=this;this.__mercuryThreadIDMap.getServerIDFromClientID(a,function(a){a={request_user_id:e.$1,thread_fbid:a,description:b};var f=c("XMessagingSaveGroupThreadDescriptionController").getURIBuilder().setEnum("source",d).getURI();new(c("AsyncRequest"))(f).setMethod("POST").setData(a).send()})};b.changeGroupThreadName=function(a,b){var d=this;this.__mercuryThreadIDMap.getServerIDFromClientID(a,function(a){a={request_user_id:d.$1,thread_id:a,thread_name:b};var e=c("XMessagingSetThreadNameController").getURIBuilder().getURI();new(c("AsyncRequest"))(e).setMethod("POST").setData(a).send()})};b.setApprovalMode=function(a,b){var d=c("XMessagingGroupSetApprovalController").getURIBuilder().getURI();new(c("AsyncRequest"))(d).setMethod("POST").setData({request_user_id:this.$1,set_mode:a,thread_fbid:b.thread_fbid}).send()};b.changeGroupAdmins=function(a,b,d){a={request_user_id:this.$1,thread_fbid:a,admin_ids:b,add:d};b=c("XMessagingSaveAdminsController").getURIBuilder().getURI();new(c("AsyncRequest"))(b).setMethod("POST").setData(a).send()};b.addParticipants=function(a,b){this.__dispatcher.handleUpdate(this.__constructClientPayload([a],"ma-type:add-participants","client_add_participants",{participants:b}))};b.movePendingToInbox=function(a){this.__dispatcher.handleUpdate(this.__constructClientPayload([a],"ma-type:move_pending_to_inbox","client_move_pending_to_inbox"))};b.updateCommStatus=function(a,b){this.__dispatcher.handleUpdate(this.$12(a,b));b=b===c("PageCommItemStatus").DONE;this.__dispatcher.handleUpdate(this.$3(a,b))};b.updateCommItemOwner=function(a,b,c,d){this.__dispatcher.handleUpdate(this.$13(a,b,c,d))};b.$2=function(a,b,c){return this.__constructClientPayload(a,"ma-type:change_read_status","client_change_read_status",{mark_as_read:b,source:c,timestamp:0})};b.$13=function(a,b,c,d){return this.__constructClientPayload(a,"ma-type:update-comm-item-owner","client_update_comm_item_owner",{id:c,name:b,profile_pic_uri:d})};b.$3=function(a,b){return this.__constructClientPayload(a,"ma-type:change-archived-status","client_change-archived_status",{archived:b})};b.$5=function(a,b){return this.__constructClientPayload(a,"ma-type:change-pinned-status","client_change-pinned_status",{is_pinned:b,thread_pin_timestamp:Math.floor(Date.now()/1e3)})};b.$6=function(a,b){return this.__constructClientPayload([a],"ma-type:pin-message","server_change-pinned_messages",{pin_message_action:{message:b}})};b.$7=function(a,b){return this.__constructClientPayload([a],"ma-type:unpin-message","server_change-pinned_messages",{unpin_message_action:{message_id:b}})};b.$8=function(a,b){return this.__constructClientPayload(a,"ma-type:change-page-follow-up-status","client_change_page_follow_up_status",{is_page_follow_up:b})};b.$9=function(a,b,c){return this.__constructClientPayload(a,"ma-type:update-biz-inbox-tags","client_update_biz_inbox_tags",{add_biz_inbox_tag:b,remove_biz_inbox_tag:c})};b.$10=function(a,b){return this.__constructClientPayload(a,"ma-type:change-unresponded-status","client_change_unresponded_status",{is_page_unresponded_thread:b})};b.$12=function(a,b){return this.__constructClientPayload(a,"ma-type:update-comm-status","client_update_comm_status",{comm_status:b})};b.$11=function(a,b){return this.__constructClientPayload(a,"ma-type:change-folder","client_change_folder",{new_folder:b})};b.__constructClientPayload=function(a,b,c,d){return{actions:a.map(function(a){return babelHelpers["extends"]({action_type:b,thread_id:a},d)}),from_client:!0,payload_source:c}};b.$4=function(a,b,d){c("Bootloader").loadModules(["ChatPinnedThreadsTypedLogger","ChatPinnedThreadsEvent"],function(e,f){new e().setEvent(b?f.PIN_THREAD:f.UNPIN_THREAD).setIsWorkplace(c("CurrentUser").isWorkUser()).setThreadID(a).setEntryPoint(d).log()},"MercuryThreadActions")};return a}();var n=new(c("MercurySingletonProvider"))(a);g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("FantaReducersParticipants",["FantaGetMessageActions","ImmutableObject","MercuryIDs","MessengerParticipants.bs","setImmediate"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(b.type){case d("FantaGetMessageActions").Types.ON_GET_THREAD_RESPONSE:b=b.thread;a=h(a,b);break}return a}function h(a,b){var e=b.thread_id,f=a.mercury.tabContents.get(e);if(!f)return a;f=i(b).concat(j(b));d("MessengerParticipants.bs").getMulti(f,function(a){c("setImmediate")(function(){return d("FantaGetMessageActions").onParticipantResponse(e)})});return k(a,b)}function i(a){return a&&a.participants?a.participants.filter(function(a){return!d("MessengerParticipants.bs").getNow(a)}):[]}function j(a){return a&&a.group_approval_queue?a.group_approval_queue.reduce(function(a,b){var c=b.requester;b=b.inviter;return a.concat([d("MercuryIDs").getParticipantIDFromUserID(c.id),d("MercuryIDs").getParticipantIDFromUserID(b.id)])},[]):[]}function b(a,b){switch(b.type){case d("FantaGetMessageActions").Types.ON_GET_PARTICIPANT_RESPONSE:b=b.tabID;b=a.mercury.tabContents.get(b);if(!b)return a;b=b.thread;if(!b)return a;a=k(a,b)}return a}function k(a,b){var c=b.thread_id,e=a.mercury.tabContents.get(c);if(!e)return a;var f=b.participants?b.participants.map(function(a){return d("MessengerParticipants.bs").getNow(a)}).filter(function(a){return!!a}).reduce(function(a,b){a[b.id]=b;return a},{}):null;b=b.group_approval_queue?b.group_approval_queue.reduce(function(a,b){var c=b.requester;b=b.inviter;c=d("MessengerParticipants.bs").getNow(d("MercuryIDs").getParticipantIDFromUserID(c.id));c&&(a[c.id]=c);c=d("MessengerParticipants.bs").getNow(d("MercuryIDs").getParticipantIDFromUserID(b.id));c&&(a[c.id]=c);return a},{}):null;e=e.merge({membershipParticipants:b,participants:f});a=a.setIn(["mercury","tabContents",c],e);return a}function e(a,b){switch(b.type){case d("FantaGetMessageActions").Types.THREADS_UPDATED:b.threads.forEach(function(b){a=h(a,new(c("ImmutableObject"))(b))})}return a}g.onGetThreadResponse_Participants=a;g.onParticipantResponse_Participants=b;g.threadsUpdated_Participants=e}),98);
__d("FantaTypeJoinableThread",["immutable"],(function(a,b,c,d,e,f,g){"use strict";a={admins:[],approvalMode:0,associatedObject:null,description:null,friendsInParticipants:[],imageURL:null,isViewerSubscribed:!1,isWorkpaceChat:!1,joinableMode:{mode:0,link:""},linkHash:"",participants:[],threadID:null,threadFBID:null,threadName:null};b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("immutable").Record(a));g["default"]=b}),98);
__d("getTitleHrefFromThreadID",["MercuryIDs","MessengerParticipants.bs","WebMessengerThreadPermalinks"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(d("MercuryIDs").isLocalThread(a)){b();return}var c=d("MercuryIDs").getUserIDFromThreadID(a);c?d("MessengerParticipants.bs").get(d("MercuryIDs").getParticipantIDFromUserID(c),function(a){a.href?b(a.href):b(d("WebMessengerThreadPermalinks").getThreadURIFromUserID(c))}):d("WebMessengerThreadPermalinks").getThreadURI(a,b)}g.getTitleHrefFromThreadID=a}),98);
__d("FantaReducersGetMessages",["AsyncRequest","CurrentUser","FantaGetMessageActions","FantaMessageActions","FantaReducersParticipants","FantaTabActions","FantaTypeJoinableThread","ImmutableObject","MercuryIDs","MercuryThreadActions","MessengerState.bs","TimeSlice","UserActivity","XMNCommercePageNullStateCTAController","emptyFunction","getPageIDFromThreadID","getTitleHrefFromThreadID","immutable","setImmediate"],(function(a,b,c,d,e,f,g){"use strict";var h=c("MercuryThreadActions").get(),i={};function a(a,b){switch(b.type){case d("FantaTabActions").Types.OPEN_TAB:case d("FantaGetMessageActions").Types.CLEAR_PARTICIPANTS:case d("FantaMessageActions").Types.ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB:a=o(a,b.tabID);break}return a}function b(a,b){switch(b.type){case d("FantaTabActions").Types.OPEN_TAB_WITH_INTERSTITIAL_DATA:a=p(a,b.interstitialData);break}return a}function e(a,b){switch(b.type){case d("FantaTabActions").Types.REPLACE_TAB:case d("FantaMessageActions").Types.ADD_GROUP_PARTICIPANTS_AS_REPLACE_TAB:a=o(a,b.newTabID);break}return a}function f(a,b){switch(b.type){case d("FantaGetMessageActions").Types.CLEAR_PREVIEW:case d("FantaTabActions").Types.CREATE_NEW_NAMED_GROUP_CHAT:var e=b.tabID;b=b.tokens;var f=a.mercury.tabContents.get(e);if(!f)return a;b=b.map(function(a){a=a.info.uid;return d("MercuryIDs").isValid(a)?a:d("MercuryIDs").getParticipantIDFromUserID(a)});f=f.merge({threadPreviewID:null,threadPreviewRecipients:c("immutable").List(b)});a=a.setIn(["mercury","tabContents",e],f);d("MessengerState.bs").getThreadMeta(c("CurrentUser").getID(),e,function(a){c("setImmediate")(function(){return d("FantaGetMessageActions").onGetThreadPreviewResponse(e,a)})});break}return a}function j(a,b){switch(b.type){case d("FantaGetMessageActions").Types.ADD_PARTICIPANTS:a=l(a,b.tabID,b.previewTabID);break}return a}function k(a,b){switch(b.type){case d("FantaTabActions").Types.LOAD_FROM_DATA:var c=a.tabGroup;b=b.tabData;var e=b.interstitialData;if(c.updatedTime>=b.updatedTime||b.updatedTime===void 0){for(var c=a.tabGroup.tabs.keys(),b=Array.isArray(c),f=0,c=b?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(b){if(f>=c.length)break;g=c[f++]}else{f=c.next();if(f.done)break;g=f.value}g=g;var h=a.mercury.tabContents.get(g).thread;if(!h){h=d("MercuryIDs").getThreadFBIDFromThreadID(g);e&&e[h]?(e[h].threadID=g,a=p(a,e[h])):a=o(a,g)}}return a}else for(h=a.tabGroup.tabs.keys(),g=Array.isArray(h),f=0,h=g?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(f>=h.length)break;b=h[f++]}else{f=h.next();if(f.done)break;b=f.value}c=b;b=d("MercuryIDs").getThreadFBIDFromThreadID(c);e&&e[b]?(e[b].threadID=c,a=p(a,e[b])):a=o(a,c)}break}return a}function l(a,b,e){d("MessengerState.bs").getThreadMeta(c("CurrentUser").getID(),e,function(a){c("setImmediate")(function(){d("FantaGetMessageActions").onGetThreadPreviewResponse(b,a)})});return a}function m(a,b){switch(b.type){case d("FantaGetMessageActions").Types.ON_GET_THREAD_PREVIEW_RESPONSE:var e=b.tabID;b=b.thread;d("MessengerState.bs").fetchMoreMessages(c("CurrentUser").getID(),b.thread_id,0,10,c("emptyFunction"));var f=a.mercury.tabContents.get(e);if(!f)return a;f=f.merge({thread:b});a=a.setIn(["mercury","tabContents",e],f)}return a}function n(a,b){switch(b.type){case d("FantaGetMessageActions").Types.REFRESH_THREAD:return o(a,b.threadID)}return a}function o(a,b){if(!i[b]){var e=c("getPageIDFromThreadID")(b);if(e){var f=c("XMNCommercePageNullStateCTAController").getURIBuilder();new(c("AsyncRequest"))().setURI(f.getURI()).setMethod("POST").setData({page_id:e}).setHandler(function(a){a&&a.payload&&d("FantaGetMessageActions").onPageNullResponse(b,a.payload)}).send()}i[b]=!0;d("MessengerState.bs").getThreadMeta(c("CurrentUser").getID(),b,function(a){c("setImmediate")(function(){return d("FantaGetMessageActions").onGetThreadResponse(a)})});d("MessengerState.bs").fetchMoreMessages(c("CurrentUser").getID(),b,0,10,c("emptyFunction"))}return a}function p(a,b){var d=new(c("FantaTypeJoinableThread"))(b);b=b.threadID;var e=b&&a.mercury.tabContents.get(b);e&&(e=e.merge({joinableInterstitialData:d}),a=a.setIn(["mercury","tabContents",b],e));return a}function q(a,b){switch(b.type){case d("FantaGetMessageActions").Types.ON_PAGE_NULL_RESPONSE:var e=b.threadID;b=b.nullStateCTA;var f=a.mercury.tabContents.get(e);f&&(f=f.merge({nullStateCTA:new(c("ImmutableObject"))(b)}),a=a.setIn(["mercury","tabContents",e],f));break}return a}function r(a,b){switch(b.type){case d("FantaGetMessageActions").Types.ON_GET_THREAD_RESPONSE:b=b.thread;a=s(a,b);break}return a}function s(a,b){var e=b.thread_id;i[e]=!1;var f=a.mercury.tabContents.get(e);if(!f)return a;f=f.merge({highlightNewMessage:b.unread_count>0,thread:b});a=a.setIn(["mercury","tabContents",e],f);d("getTitleHrefFromThreadID").getTitleHrefFromThreadID(e,function(a){return c("setImmediate")(function(){return d("FantaGetMessageActions").onGetThreadHrefResponse(e,a)})});return a}function t(a,b){switch(b.type){case d("FantaGetMessageActions").Types.ON_GET_THREAD_HREF_RESPONSE:var c=b.tabID,e=a.mercury.tabContents.get(c);if(!e)return a;e=e.merge({threadHref:b.href});a=a.setIn(["mercury","tabContents",c],e)}return a}function u(a,b){switch(b.type){case d("FantaGetMessageActions").Types.THREADS_UPDATED:b.threads.forEach(function(b){a=s(a,new(c("ImmutableObject"))(b))})}return a}function v(a,b){switch(b.type){case d("FantaGetMessageActions").Types.ON_SHOW_CONTEXT_BANNER_TIMER:var c=a.mercury.tabContents.get(b.threadID);if(!c)return a;c=c.merge({showContextBanner:!0});a=a.setIn(["mercury","tabContents",b.threadID],c);break}return a}function w(a,b){switch(b.type){case d("FantaTabActions").Types.CLOSE_AND_TAB_NEXT:case d("FantaTabActions").Types.FOCUS_NEXT_TAB:case d("FantaTabActions").Types.FOCUS_PREVIOUS_TAB:case d("FantaTabActions").Types.FOCUS_TAB:case d("FantaTabActions").Types.SCROLL_BOTTOM_CHANGED:case d("FantaTabActions").Types.UNMINIMIZE_TAB:case d("FantaGetMessageActions").Types.ON_GET_THREAD_RESPONSE:case d("FantaGetMessageActions").Types.REFRESH_THREAD:case d("FantaGetMessageActions").Types.THREADS_UPDATED:b=a.tabGroup.focusedTabID;if(b){var e=a.tabGroup.tabs.get(b);if(e&&!e.isMinimized&&c("UserActivity").isOnTab()&&c("UserActivity").isActive()){e=a.mercury.tabContents.get(b);var f=e.thread;e&&e.isScrolledToBottom&&f&&f.unread_count>0&&x(b)}}break}return a}function x(a){var b=function(){h.markSeen(a),h.markRead(a)};c("TimeSlice").guard(b,"superfluous request to first open DD",{propagationType:c("TimeSlice").PropagationType.ORPHAN})()}j=babelHelpers["extends"]({addParticipants:j,clearPreview:f,loadFromData:k,onFocusChange:w,onGetThreadHrefResponse:t,onGetThreadPreviewResponse:m,onGetThreadResponse:r,onPageNullResponse:q,onShowContextBannerTimer:v,openInterstitialTab:b,openTab:a,refreshThread:n,replaceTab:e,threadsUpdated:u},d("FantaReducersParticipants"));g["default"]=j}),98);/*FB_PKG_DELIM*/
__d("MercurySendMessageFields",[],(function(a,b,c,d,e,f){a=Object.freeze({AUTO_RETRY_CNT:"auto_retry_cnt",MANUAL_RETRY_CNT:"manual_retry_cnt"});f["default"]=a}),66);
__d("MercuryMessageObject",["MercuryIDs","MercuryLocalIDs","MercuryMessageClientState","MercurySendMessageFields","MercurySingletonProvider","MessengerObjectAssociationType","MessengerState.bs","ODS","RepliedToMessageStatusForGraphQL","SiteData","md5"],(function(a,b,c,d,e,f,g){a=function(){a.getForFBID=function(a){return j.getForFBID(a)};a.get=function(){return j.get()};function a(a){this.$1=a}var b=a.prototype;b.constructHotLikeObject=function(a,b,d,e,f){b=h(this.$1,"ma-type:user-generated-message",b,d);d={body:a,has_attachment:!1,html_body:!1,attachments:[],specific_to_list:[],participants_to_hash:[],creator_info:void 0,tags:e||[],signatureID:f,ui_push_phase:c("SiteData").push_phase};return babelHelpers["extends"]({},b,d)};b.constructPhotoMessageObject=function(a,b,d,e,f){b=h(this.$1,"ma-type:user-generated-message",b,d,a);d={has_attachment:!1,html_body:!1,attachments:[],specific_to_list:[],participants_to_hash:[],creator_info:void 0,tags:e||[],signatureID:f,ui_push_phase:c("SiteData").push_phase};return babelHelpers["extends"]({},b,d)};b.constructTextMessageObject=function(a,b,d,e,f,g,i,j,k,l){g=h(this.$1,"ma-type:user-generated-message",g,i,d);i=f.params&&f.type;d=b.length>0;a={body:typeof a==="string"?a.replace(/^\s+/,"").replace(/\s+$/,""):"",has_attachment:i||d,raw_attachments:d?b:void 0,shareable_attachment:i?{share_params:f.params.get("data"),share_type:f.type}:void 0,profile_ranges:e,profile_xmd:e,verse_group_role_xmd:l,html_body:!1,attachments:[],specific_to_list:[],participants_to_hash:[],creator_info:void 0,tags:j||[],signatureID:k,ui_push_phase:c("SiteData").push_phase};return babelHelpers["extends"]({},g,a)};b.constructUserGeneratedMessageObject=function(a,b,c,d,e,f,g){b=h(this.$1,"ma-type:user-generated-message",b,c,g);c={body:typeof a==="string"?a.replace(/^\s+/,"").replace(/\s+$/,""):"",has_attachment:!1,html_body:!1,attachments:[],specific_to_list:d||[],participants_to_hash:[],creator_info:e,tags:f||[]};return babelHelpers["extends"]({},b,c)};b.constructStickerMessageObject=function(a,b,d,e,f,g){b=h(this.$1,"ma-type:user-generated-message",b,d,g);d={has_attachment:!0,html_body:!1,attachments:[],sticker_id:a,specific_to_list:[],participants_to_hash:[],tags:e||[],signatureID:f,ui_push_phase:c("SiteData").push_phase};return babelHelpers["extends"]({},b,d)};b.constructAttachmentMessageObject=function(a,b,c){a=h(this.$1,"ma-type:user-generated-message",a,b,c);b={attachments:[],specific_to_list:[],participants_to_hash:[]};return babelHelpers["extends"]({},a,b,{tags:[]})};b.constructLogMessageObject=function(a,b,c,d){a=h(this.$1,"ma-type:log-message",a,b);b={log_message_type:c,log_message_data:d,ephemeral_ttl_mode:d&&d.untypedData&&d.untypedData.ttl};return babelHelpers["extends"]({},a,b)};b.constructCTAConfirmationMessageObject=function(a,b,c,d,e,f){a=this.constructUserGeneratedMessageObject(a,b,c,null,null,e,null);b=d?{quick_replies:d,ignore_for_webhook:!1}:{ignore_for_webhook:!0};f&&(b.postback_data=JSON.stringify(f));return babelHelpers["extends"]({},a,{platform_xmd:JSON.stringify(b)})};b.normalizeNewMessage=function(a){a.status===void 0&&(a.status=0);a.offline_threading_id=a.offline_threading_id||d("MercuryLocalIDs").generateOfflineThreadingID(a.timestamp);a.offline_threading_id||d("ODS").bumpEntityKey(3303,"chat.web","invalid_otid_generated");a.message_id=a.message_id||a.offline_threading_id;var b=d("MercuryIDs").getParticipantIDFromUserID(this.$1);a.specific_to_list=a.specific_to_list||[];a.participants_to_hash=a.participants_to_hash||[];a.specific_to_list.length&&a.specific_to_list.indexOf(b)===-1&&a.specific_to_list.push(b);a.participants_to_hash.length&&a.participants_to_hash.indexOf(b)===-1&&a.participants_to_hash.push(b);var e=!1;if(!a.thread_id)a.thread_id="root:"+a.offline_threading_id;else{var f,g=d("MessengerState.bs").getThreadMetaNow(this.$1,a.thread_id);g&&g.ephemeral_ttl_mode!==null&&a.ephemeral_ttl_mode===void 0&&(a.ephemeral_ttl_mode=g.ephemeral_ttl_mode);((f=g)!=null?(f=f.associated_object)!=null?f.name:f:f)&&((f=g)!=null?f.object_association_type:f)===c("MessengerObjectAssociationType").GENERAL_CHAT&&(e=!0)}if(!e)if(a.specific_to_list.length==1)a.thread_id="user:"+this.$1;else if(a.specific_to_list.length==2){g=a.specific_to_list[0]==b?a.specific_to_list[1]:a.specific_to_list[0];a.thread_id=d("MercuryIDs").getThreadIDFromParticipantID(g)}if(!a.specific_to_list.length){f=d("MercuryIDs").tokenize(a.thread_id);e=f.type;g=f.value;e=="user"&&(a.specific_to_list=["fbid:"+g,b])}a.to_list_md5=this.sortAndHash(a.participants_to_hash);a[c("MercurySendMessageFields").MANUAL_RETRY_CNT]||(a[c("MercurySendMessageFields").MANUAL_RETRY_CNT]=0)};b.sortAndHash=function(a){if(!a||a.length===0)return null;a=a.map(function(a){return d("MercuryIDs").getUserIDFromParticipantID(a)});return a.some(function(a){return a==null})?null:c("md5")(a.sort(function(a,b){if(a==null||b==null)throw new Error("invalid participant id in to_list_md5 creation");if(a.length<b.length)return-1;return a.length>b.length?1:a.localeCompare(b)}).join(":"))};b.normalizeResendMessage=function(a){a.status=7,a.timestamp=Date.now(),a[c("MercurySendMessageFields").MANUAL_RETRY_CNT]+=1};b.normalizeAddAttachmentPlaceholder=function(a,b,d){d.preview_attachments.length>0&&(a.has_attachment=!0,a.preview_attachments=d.preview_attachments),a.client_state=c("MercuryMessageClientState").DO_NOT_SEND_TO_SERVER,a.status=7,a.upload_id=b};return a}();function h(a,b,e,f,g){var h=i(e)?["source:chat"]:[],j=Date.now();return{action_type:b,thread_id:f,author:d("MercuryIDs").getParticipantIDFromUserID(a),author_email:null,timestamp:j,is_unread:!1,is_filtered_content:!1,is_filtered_content_bh:!1,is_filtered_content_account:!1,is_filtered_content_quasar:!1,is_filtered_content_invalid_app:!1,is_spoof_warning:!1,source:e,source_tags:h,replied_to_message:g?{message:g,status:c("RepliedToMessageStatusForGraphQL").VALID}:void 0}}function i(a){switch(a){case"source:chat:web":case"source:chat:jabber":case"source:chat:iphone":case"source:chat:meebo":case"source:chat:orca":case"source:chat:test":case"source:chat":return!0;default:return!1}}var j=new(c("MercurySingletonProvider"))(a);g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("FantaMessageActions",["Bootloader","CurrentUser","FantaDispatcher","MWCount.bs","MercuryIDs","MercuryLocalIDs","MercuryViewer","MessengerState.bs","emptyFunction","ifRequired","keyMirror","requireWeak","setImmediate"],(function(a,b,c,d,e,f,g){"use strict";var h;c("requireWeak")("FantaAppStore",function(a){return h=a});var i=c("keyMirror")({ADD_GROUP_PARTICIPANTS:null,ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB:null,ADD_GROUP_PARTICIPANTS_AS_REPLACE_TAB:null,CANCEL_FILE_UPLOAD:null,CANCEL_REPLY_TO_MESSAGE:null,COMPOSER_TEXT_UPDATE:null,LINK_PREVIEW:null,LOADED_SHARE_DATA:null,LOADING_SHARE_DATA:null,PREPARE_FILES_FOR_SEND:null,RECEIVED_NEW_MESSAGE:null,REMOVE_SHARE_PREVIEW:null,REPLY_TO_MESSAGE:null,SEND_GIF:null,SEND_HOT_LIKE:null,SEND_MESSAGE:null,SEND_PHOTO:null,SEND_STICKER:null,SET_NEW_GROUP_NAME_LOCALLY:null,UPDATE_GROUP_NAME:null,UPDATE_USER_INPUT_REQUESTED:null});function j(a){var b=d("MercuryViewer").getID();if(!a.length)return null;a=a.filter(function(a){return a!==b});var e;if(a.length===0)return null;else a.length===1?e=c("MercuryIDs").getThreadIDFromParticipantID(a[0]):(e=d("MercuryLocalIDs").generateThreadID(),a.unshift(b),c("MessengerState.bs").createNewLocalThread(c("CurrentUser").getID(),e,a));return e}var k={Types:i,prepareFilesForSend:function(a,b,d,e){var f={type:i.PREPARE_FILES_FOR_SEND,tabID:a,files:b,composer:d};k.dispatchOrBootloadUploader(function(){c("FantaDispatcher").dispatch(f),e&&e()})},replyToMessage:function(a,b){c("FantaDispatcher").dispatch({type:i.REPLY_TO_MESSAGE,threadID:b,message:a})},cancelReplyToMessage:function(a){c("FantaDispatcher").dispatch({type:i.CANCEL_REPLY_TO_MESSAGE,threadID:a})},cancelFileUpload:function(a,b){var d={type:i.CANCEL_FILE_UPLOAD,tabID:a,uploadID:b};k.dispatchOrBootloadUploader(function(){c("FantaDispatcher").dispatch(d)})},linkPreview:function(a,b){k.dispatchOrBootloadSharePreview(function(){c("FantaDispatcher").dispatch({type:i.LINK_PREVIEW,tabID:a,uri:b})})},loadedShareData:function(a,b,d){k.dispatchOrBootloadSharePreview(function(){c("FantaDispatcher").dispatch({type:i.LOADED_SHARE_DATA,tabID:a,attachmentData:b,composer:d})})},loadingShareData:function(a,b){k.dispatchOrBootloadSharePreview(function(){c("FantaDispatcher").dispatch({type:i.LOADING_SHARE_DATA,composer:b,tabID:a})})},removeSharePreview:function(a,b){k.dispatchOrBootloadSharePreview(function(){c("FantaDispatcher").dispatch({type:i.REMOVE_SHARE_PREVIEW,tabID:a,composer:b})})},receivedNewMessage:function(a,b){d("MWCount.bs").Blue.NewMessage.lift(),c("FantaDispatcher").dispatch({type:i.RECEIVED_NEW_MESSAGE,tabID:a,message:b})},updateGroupName:function(a,b){k.dispatchOrBootloadSendMessages(function(){c("FantaDispatcher").dispatch({type:i.UPDATE_GROUP_NAME,threadID:a,newName:b})})},setNewGroupNameLocally:function(a,b){k.dispatchOrBootloadSendMessages(function(){c("FantaDispatcher").dispatch({type:i.SET_NEW_GROUP_NAME_LOCALLY,threadID:a,newName:b})})},addParticipants:function(a,b){c("ifRequired")("FantaAppStore",function(d){d=d.getState().mercury.tabContents.get(a);if(!d)return;var e=d.thread;d=d.typeahead;if(!d||!e)return;var f=c("MessengerState.bs").isEmptyLocalThread(c("CurrentUser").getID(),a);if(e.is_canonical_user||f){f=d.getSelectedParticipantIDs();d=e.participants;d=j(d.concat(f));d?e.is_canonical_user?k.addGroupParticipantsAsOpenTab(d,a,b):k.addGroupParticipantsAsReplaceTab(d,a,b):k.addGroupParticipant(a,b)}else k.addGroupParticipant(a,b)})},addGroupParticipant:function(a,b){k.dispatchOrBootloadSendMessages(function(){c("FantaDispatcher").dispatch({type:i.ADD_GROUP_PARTICIPANTS,threadID:a,onSendSuccess:b})})},addGroupParticipantsAsOpenTab:function(a,b,d){k.dispatchOrBootloadSendMessages(function(){c("FantaDispatcher").dispatch({type:i.ADD_GROUP_PARTICIPANTS_AS_OPEN_TAB,fromTabID:b,onSendSuccess:d,tabID:a})})},addGroupParticipantsAsReplaceTab:function(a,b,d){k.dispatchOrBootloadSendMessages(function(){c("FantaDispatcher").dispatch({type:i.ADD_GROUP_PARTICIPANTS_AS_REPLACE_TAB,newTabID:a,onSendSuccess:d,tabID:b})})},sendMessage:function(a,b,d,e){k.dispatchOrBootloadSendMessages(function(){var f={type:i.SEND_MESSAGE,threadID:a,message:b,composer:d,onSendSuccess:e};c("FantaDispatcher").dispatch(f)})},sendPhoto:function(a,b,d){k.dispatchOrBootloadSendMessages(function(){var e={type:i.SEND_PHOTO,clearComposerOnSend:!0,onSendSuccess:d,photoData:b,threadID:a};c("FantaDispatcher").dispatch(e)})},sendGif:function(a,b,d){k.dispatchOrBootloadSendMessages(function(){var e={type:i.SEND_GIF,clearComposerOnSend:!1,onSendSuccess:d,photoData:b,threadID:a};c("FantaDispatcher").dispatch(e)})},sendHotLike:function(a,b,d,e,f){k.dispatchOrBootloadSendMessages(function(){var g={type:i.SEND_HOT_LIKE,emoji:b,onSendSuccess:f,size:d,source:e,threadID:a};c("FantaDispatcher").dispatch(g)})},sendSticker:function(a,b,d){k.dispatchOrBootloadSendMessages(function(){var e={type:i.SEND_STICKER,threadID:a,stickerID:b,onSendSuccess:d};c("FantaDispatcher").dispatch(e)})},composerTextUpdate:function(a,b,d){b.length>0&&c("ifRequired")("FantaReducersSendMessages",c("emptyFunction"),function(){return k.dispatchOrBootloadSendMessages(c("emptyFunction"))}),k.dispatchOrBootloadSharePreview(function(){c("FantaDispatcher").dispatch({type:i.COMPOSER_TEXT_UPDATE,composer:d,message:b,threadID:a})})},dispatchOrBootloadMessages:function(a){c("ifRequired")("FantaReducersMessages",function(){c("setImmediate")(a)},function(){c("Bootloader").loadModules(["FantaReducersMessages"],function(b){h&&(h.addReducers(b),c("setImmediate")(a))},"FantaMessageActions")})},dispatchOrBootloadSendMessages:function(a){c("ifRequired")("FantaReducersSendMessages",function(){c("setImmediate")(a)},function(){c("Bootloader").loadModules(["FantaReducersSendMessages"],function(b){h&&(h.addReducers(b),c("setImmediate")(a))},"FantaMessageActions")})},dispatchOrBootloadUploader:function(a){c("ifRequired")("FantaReducersFileUploader",function(){a()},function(){c("Bootloader").loadModules(["FantaReducersFileUploader"],function(b){h&&(h.addReducers(b),a())},"FantaMessageActions")})},dispatchOrBootloadSharePreview:function(a){c("ifRequired")("FantaReducersSharePreview",function(){a()},function(){c("Bootloader").loadModules(["FantaReducersSharePreview"],function(b){h&&(h.addReducers(b),a())},"FantaMessageActions")})},updateUserInputRequested:function(a,b,d){k.dispatchOrBootloadMessages(function(){c("FantaDispatcher").dispatch({type:i.UPDATE_USER_INPUT_REQUESTED,isUserInputRequested:a,requestNumResults:b,requestType:d})})}};f.exports=k}),34);/*FB_PKG_DELIM*/
__d("MercuryMessageActions",["AsyncRequest","Bootloader","CurrentUser","MercuryDispatcher","MercuryMessageObject","MercuryMessagingLightswitch","MercuryServerRequests","MercurySingletonMixin","MessengerState.bs","WorkChatSavedMessagesOnHeaderMenuNux"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a,this.$2=c("MercuryMessageObject").getForFBID(this.$1),this.__serverRequests=c("MercuryServerRequests").getForFBID(this.$1),this.__dispatcher=c("MercuryDispatcher").getForFBID(this.$1)}var b=a.prototype;b.send=function(a,b,c){this.$2.normalizeNewMessage(a),this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload(babelHelpers["extends"]({},a),"client_send_message")),this.__serverRequests.sendNewMessage(a,c),b!=null&&b(a.thread_id)};b.resend=function(a,b){a=babelHelpers["extends"]({},a);this.$2.normalizeResendMessage(a);this.send(a,void 0,b)};b.addAttachmentPlaceholder=function(a,b,c){this.$2.normalizeAddAttachmentPlaceholder(a,b,c),this.$2.normalizeNewMessage(a),this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload(babelHelpers["extends"]({},a),"client_send_message"))};b.cancelAttachmentPlaceholder=function(a,b){this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload({upload_id:a,upload_data:b,action_type:"ma-type:cancel-attachment-placeholder"},"client_send_message"))};b.confirmAttachmentPlaceholder=function(a,b){this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload({upload_id:a,upload_data:b,action_type:"ma-type:confirm-attachment-placeholder"},"client_send_message"))};b["delete"]=function(a,b,c){this.__dispatcher.handleUpdate(this.$3(a,b,"ma-type:delete-messages",c||"client_delete_messages"))};b.changeSaveStatus=function(a,b,e){var f=d("MessengerState.bs").getServerMessageID(c("CurrentUser").getID(),a.message_id);this.__dispatcher.handleUpdate(this.__constructClientSingleMessagePayload({thread_id:a.thread_id,messageId:f,tags_to_add:b?["message:save"]:[],tags_to_delete:b?[]:["message:save"],action_type:"ma-type:mutate_tags"},e||"client_update_saved_message_status"));c("Bootloader").loadModules(["XMessengerDotComSaveController","SavedStateActions","CollectionsDisplaySurface","CollectionCurationMechanisms","WorkChatSavedMessagesTypedLogger","SavedMessagesEvent","useWorkGalahadEventEmitter"],function(d,e,g,h,i,j,k){c("MercuryMessagingLightswitch").guard(function(){new(c("AsyncRequest"))().setURI(d.getURIBuilder().getURI()).setData({action:b?e.SAVE:e.UNSAVE,surface:g.MESSENGER_DOT_COM_MESSAGE,mechanism:h.RIGHT_CLICK,message_id:f}).setHandler(function(){if(b&&c("WorkChatSavedMessagesOnHeaderMenuNux").shouldShowNux){var d=k(["toggleNavHeaderMenu","showSavedMessageNux"]);d[0];d=d[1];d()}new i().setEvent(b?j.SAVE:j.UNSAVE).setThreadID(a.thread_id).setMessageID(f).log()}).send()})},"MercuryMessageActions")};b.__constructClientSingleMessagePayload=function(a,b){return{actions:[a],from_client:!0,payload_source:b}};b.$3=function(a,b,c,d){return{actions:[{action_type:c,thread_id:a,message_ids:b}],from_client:!0,payload_source:d}};return a}();b=Object.assign(a,d("MercurySingletonMixin"),{_instances:{}});e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("FantaGetMessageActions",["FantaDispatcher","FantaTabActions","MercuryCanonicalGroupThreadManager","MercuryIDs","keyMirror","requireWeak"],(function(a,b,c,d,e,f,g){"use strict";var h;c("requireWeak")("FantaAppStore",function(a){return h=a});var i=c("keyMirror")({ADD_PARTICIPANTS:null,CLEAR_PARTICIPANTS:null,CLEAR_PREVIEW:null,ON_BOOTLOAD_TYPEAHEAD:null,ON_GET_PARTICIPANT_RESPONSE:null,ON_GET_THREAD_PREVIEW_RESPONSE:null,ON_GET_THREAD_RESPONSE:null,ON_PAGE_NULL_RESPONSE:null,ON_PRIVACY_STATE_CHANGE:null,ON_SHOW_CONTEXT_BANNER_TIMER:null,ON_GET_THREAD_HREF_RESPONSE:null,REFRESH_THREAD:null,THREADS_UPDATED:null});function a(a,b){var e=b.length===1&&b[0].getInfo().render_type==="thread",f;if(e){e=b[0].getInfo().mercury_thread;e=d("MercuryIDs").getThreadIDFromThreadFBID(e.thread_fbid);d("FantaTabActions").replaceTab(a,e);return}if(b.length===1){e=b[0].info&&b[0].info.uid;e&&(f=d("MercuryIDs").getThreadIDFromUserID(e))}else if(b.length===0){c("FantaDispatcher").dispatch({type:i.CLEAR_PARTICIPANTS,tabID:a});return}else{var g=c("MercuryCanonicalGroupThreadManager").get();e=b.map(function(a){return a.info.uid});c("FantaDispatcher").dispatch({type:i.CLEAR_PREVIEW,tabID:a,tokens:b});var j=g.getCanonicalGroupThreadIDForParticipants(Array.from(e),function(d){g.unsubscribe(j);if(h){var e=h.getState();if(!e.tabGroup.tabs.get(a))return}d&&c("FantaDispatcher").dispatch({type:i.ADD_PARTICIPANTS,previewTabID:d,tabID:a,tokens:b})})}f&&c("FantaDispatcher").dispatch({type:i.ADD_PARTICIPANTS,previewTabID:f,tabID:a,tokens:b})}function b(a,b){c("FantaDispatcher").dispatch({type:i.ON_BOOTLOAD_TYPEAHEAD,tabID:a,thread:b})}function e(a){c("FantaDispatcher").dispatch({type:i.REFRESH_THREAD,threadID:a})}function f(a){c("FantaDispatcher").dispatch({type:i.ON_GET_THREAD_RESPONSE,thread:a})}function j(a,b){c("FantaDispatcher").dispatch({type:i.ON_GET_THREAD_PREVIEW_RESPONSE,tabID:a,thread:b})}function k(a){c("FantaDispatcher").dispatch({type:i.ON_GET_PARTICIPANT_RESPONSE,tabID:a})}function l(a){c("FantaDispatcher").dispatch({type:i.ON_SHOW_CONTEXT_BANNER_TIMER,threadID:a})}function m(a){c("FantaDispatcher").dispatch({type:i.THREADS_UPDATED,threads:a})}function n(a,b){c("FantaDispatcher").dispatch({type:i.ON_PRIVACY_STATE_CHANGE,threadID:a,privacyState:b})}function o(a,b){c("FantaDispatcher").dispatch({type:i.ON_PAGE_NULL_RESPONSE,threadID:a,nullStateCTA:b})}function p(a,b){c("FantaDispatcher").dispatch({type:i.ON_GET_THREAD_HREF_RESPONSE,tabID:a,href:b})}g.Types=i;g.addParticipants=a;g.onBootloadTypeahead=b;g.refreshThread=e;g.onGetThreadResponse=f;g.onGetThreadPreviewResponse=j;g.onParticipantResponse=k;g.onShowContextBannerTimer=l;g.threadsUpdated=m;g.onPrivacyStateChange=n;g.onPageNullResponse=o;g.onGetThreadHrefResponse=p}),98);/*FB_PKG_DELIM*/
__d("MercuryCanonicalGroupThreadManager",["Bootloader","KeyedCallbackManager","MercuryIDs","MercuryServerDispatcher","MercuryServerPayloadPreprocessor","MercurySingletonProvider","MessengerServerPayloadTransformer.bs","SubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a,this.$2=new(c("KeyedCallbackManager"))(),this.$3=c("MercuryServerPayloadPreprocessor").getForFBID(this.$1),this.$4={},this.$7(),this.$8(),this.$6={}}a.getForFBID=function(a){return h.getForFBID(a)};a.get=function(){return h.get()};var b=a.prototype;b.getCanonicalGroupThreadIDForParticipants=function(a,b){a=this.$9(a);var c=this.$10(a);c=this.$2.executeOrEnqueue(c,b);this.$11(a);return c};b.unsubscribe=function(a){a&&this.$2.unsubscribe(a)};b.$10=function(a){return a.sort().join(",")};b.$12=function(a,b){b=d("MercuryIDs").getThreadIDFromThreadFBID(b);this.$2.setResource(a,b);this.$4[b]=a};b.$11=function(a){var b=this.$10(a);b={canonical_group_key:b,participants:a};d("MercuryServerDispatcher").trySend("/ajax/mercury/search_canonical_groups.php",b,null,this.$1)};b.$7=function(){var a=this;d("MercuryServerDispatcher").registerEndpoints({"/ajax/mercury/search_canonical_groups.php":{request_user_id:this.$1,mode:d("MercuryServerDispatcher").IMMEDIATE,handler:function(b){a.handleUpdate(b)}}})};b.$9=function(a){a.indexOf(this.$1)===-1&&a.push(this.$1);return a};b.handleUpdate=function(a){if(a.graphql_payload){var b=d("MessengerServerPayloadTransformer.bs").transformThread(a.viewer,a.graphql_payload,a.for_page);this.$3.handleUpdate({threads:[b],payload_source:"server_search"})}b=a.canonical_group;if(b)for(a in b)this.$12(a,b[a])};b.getNow=function(a){a=this.$10(this.$9(a));return this.$2.getResource(a)};b.$8=function(){var a=this;c("Bootloader").loadModules(["MercuryThreadInformer"],function(b){b=b.getForFBID(a.$1);var d=new(c("SubscriptionsHandler"))();d.addSubscriptions(b.subscribe("threads-deleted",function(b,c){for(b in c)a.$4[b]&&(a.$2.setResource(a.$4[b],void 0),delete a.$4[b])}));a.$5=d},"MercuryCanonicalGroupThreadManager")};return a}();var h=new(c("MercurySingletonProvider"))(a);g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("NFXContextFactory",["FBLogger","uuid"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=function(a,b){if(b!==null)return b};return JSON.stringify({reportable_ent_token:a.reportable_ent_token,story_location:a.story_location,entry_point:a.entry_point,type:a.type,session_id:c("uuid")(),initial_action_name:a.initial_action_name,reportable_id:a.reportable_id,page_id:a.page_id,responsible_id:a.responsible_id},b)}function a(a){var b=a.reportable_ent_token,c=a.story_location,d=a.entry_point;d=d===void 0?"unknown":d;a=a.responsible_id;return h({type:1,story_location:c,entry_point:d,reportable_ent_token:b,responsible_id:a})}function b(a){var b=a.reportable_id,c=a.page_id;a=a.storyLocation;return h({type:6,story_location:a,entry_point:"unknown",initial_action_name:"POLITICAL_ARCHIVE_REPORT_AD",reportable_id:b,page_id:c})}function d(a){var b=a.reportable_ent_token,c=a.story_location,d=a.entry_point;d=d===void 0?"unknown":d;var e=a.initial_action_name;a=a.page_id;return h({type:11,story_location:c,entry_point:d,reportable_ent_token:b,initial_action_name:e,page_id:a})}function e(a){var b=a.reportable_ent_token,d=a.story_location,e=a.entry_point;e=e===void 0?"unknown":e;a=a.initial_action_name;b===null&&c("FBLogger")("frx").warn("null or undefined reportable_ent_token in forEntReportable, location=%s entry_point=%s",d,e);return h({type:2,story_location:d,entry_point:e,reportable_ent_token:b,initial_action_name:a})}g.withEntMessageThread=a;g.withPoliticalArchiveAds=b;g.withEntReportableOnPage=d;g.withEntReportable=e}),98);/*FB_PKG_DELIM*/
__d("IgnoreMessagesTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:IgnoreMessagesLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:IgnoreMessagesLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:IgnoreMessagesLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setPlatform=function(a){this.$1.platform=a;return this};c.setThreadID=function(a){this.$1.thread_id=a;return this};return a}();c={event:!0,platform:!0,thread_id:!0};f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("RepliedToMessageStatusForGraphQL",[],(function(a,b,c,d,e,f){a=Object.freeze({VALID:"VALID",DELETED:"DELETED",TEMPORARILY_UNAVAILABLE:"TEMPORARILY_UNAVAILABLE"});f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("XMNCommercePageNullStateCTAController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/page/nullstate/",{})}),null);